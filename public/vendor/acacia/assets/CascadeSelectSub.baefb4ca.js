import{aa as p,a5 as c,i as s,F as g,t as b,r as f,O as G,o as n,x as y,M as C,v as h,Q as S,z as _,s as d}from"./vendor.05df324e.js";import{R as L}from"./ripple.esm.574b991d.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";const w={name:"CascadeSelectSub",emits:["option-select","optiongroup-select"],props:{selectionPath:Array,level:Number,options:Array,optionLabel:String,optionValue:String,optionGroupLabel:String,optionGroupChildren:Array,parentActive:Boolean,dirty:Boolean,templates:null,root:Boolean},data(){return{activeOption:null}},mounted(){if(this.selectionPath&&this.options&&!this.dirty){for(let e of this.options)if(this.selectionPath.includes(e)){this.activeOption=e;break}}this.root||this.position()},watch:{parentActive(e){e||(this.activeOption=null)}},methods:{onOptionClick(e,o){this.isOptionGroup(o)?(this.activeOption=this.activeOption===o?null:o,this.$emit("optiongroup-select",{originalEvent:e,value:o})):this.$emit("option-select",{originalEvent:e,value:this.getOptionValue(o)})},onOptionSelect(e){this.$emit("option-select",e)},onOptionGroupSelect(e){this.$emit("optiongroup-select",e)},getOptionLabel(e){return this.optionLabel?p.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?p.resolveFieldData(e,this.optionValue):e},getOptionGroupLabel(e){return this.optionGroupLabel?p.resolveFieldData(e,this.optionGroupLabel):null},getOptionGroupChildren(e){return p.resolveFieldData(e,this.optionGroupChildren[this.level])},isOptionGroup(e){return Object.prototype.hasOwnProperty.call(e,this.optionGroupChildren[this.level])},getOptionLabelToRender(e){return this.isOptionGroup(e)?this.getOptionGroupLabel(e):this.getOptionLabel(e)},getItemClass(e){return["p-cascadeselect-item",{"p-cascadeselect-item-group":this.isOptionGroup(e),"p-cascadeselect-item-active p-highlight":this.isOptionActive(e)}]},isOptionActive(e){return this.activeOption===e},onKeyDown(e,o,t){switch(e.key){case"Down":case"ArrowDown":var a=this.$el.children[t+1];a&&a.children[0].focus();break;case"Up":case"ArrowUp":var r=this.$el.children[t-1];r&&r.children[0].focus();break;case"Right":case"ArrowRight":this.isOptionGroup(o)&&(this.isOptionActive(o)?e.currentTarget.nextElementSibling.children[0].children[0].focus():this.activeOption=o);break;case"Left":case"ArrowLeft":this.activeOption=null;var i=e.currentTarget.parentElement.parentElement.previousElementSibling;i&&i.focus();break;case"Enter":this.onOptionClick(e,o);break}e.preventDefault()},position(){const e=this.$el.parentElement,o=c.getOffset(e),t=c.getViewport(),a=this.$el.offsetParent?this.$el.offsetWidth:c.getHiddenElementOuterWidth(this.$el),r=c.getOuterWidth(e.children[0]);parseInt(o.left,10)+r+a>t.width-c.calculateScrollbarWidth()&&(this.$el.style.left="-100%")}},directives:{ripple:L}},A={class:"p-cascadeselect-panel p-cascadeselect-items",role:"listbox","aria-orientation":"horizontal"},D=["onClick","onKeydown"],E={key:1,class:"p-cascadeselect-item-text"},V={key:2,class:"p-cascadeselect-group-icon pi pi-angle-right"};function P(e,o,t,a,r,i){const O=f("CascadeSelectSub",!0),m=G("ripple");return n(),s("ul",A,[(n(!0),s(g,null,b(t.options,(l,v)=>(n(),s("li",{key:i.getOptionLabelToRender(l),class:y(i.getItemClass(l)),role:"none"},[C((n(),s("div",{class:"p-cascadeselect-item-content",onClick:u=>i.onOptionClick(u,l),tabindex:"0",onKeydown:u=>i.onKeyDown(u,l,v)},[t.templates.option?(n(),h(S(t.templates.option),{key:0,option:l},null,8,["option"])):(n(),s("span",E,_(i.getOptionLabelToRender(l)),1)),i.isOptionGroup(l)?(n(),s("span",V)):d("",!0)],40,D)),[[m]]),i.isOptionGroup(l)&&i.isOptionActive(l)?(n(),h(O,{key:0,class:"p-cascadeselect-sublist",selectionPath:t.selectionPath,options:i.getOptionGroupChildren(l),optionLabel:t.optionLabel,optionValue:t.optionValue,level:t.level+1,onOptionSelect:i.onOptionSelect,onOptiongroupSelect:i.onOptionGroupSelect,optionGroupLabel:t.optionGroupLabel,optionGroupChildren:t.optionGroupChildren,parentActive:i.isOptionActive(l),dirty:t.dirty,templates:t.templates},null,8,["selectionPath","options","optionLabel","optionValue","level","onOptionSelect","onOptiongroupSelect","optionGroupLabel","optionGroupChildren","parentActive","dirty","templates"])):d("",!0)],2))),128))])}var F=k(w,[["render",P]]);export{F as default};
