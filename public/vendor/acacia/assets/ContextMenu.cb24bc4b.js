import{Z as r,a5 as l,v as c,j as a,w as h,K as m,W as f,r as p,o as u,i as L,V as b,s as x}from"./vendor.05df324e.js";import C from"./ContextMenuSub.9d6cbc6c.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";import"./ripple.esm.574b991d.js";const g={name:"ContextMenu",inheritAttrs:!1,props:{model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1},exact:{type:Boolean,default:!0}},target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,container:null,data(){return{visible:!1}},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener(),this.container&&this.autoZIndex&&r.clear(this.container),this.container=null},mounted(){this.global&&this.bindDocumentContextMenuListener()},methods:{itemClick(e){const t=e.item;t.command&&(t.command(e),e.originalEvent.preventDefault()),this.hide()},toggle(e){this.visible?this.hide():this.show(e)},onLeafClick(){this.hide()},show(e){this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide(){this.visible=!1},onEnter(e){this.position(),this.bindOutsideClickListener(),this.bindResizeListener(),this.autoZIndex&&r.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener()},onAfterLeave(e){this.autoZIndex&&r.clear(e)},position(){let e=this.pageX+1,t=this.pageY+1,i=this.container.offsetParent?this.container.offsetWidth:l.getHiddenElementOuterWidth(this.container),o=this.container.offsetParent?this.container.offsetHeight:l.getHiddenElementOuterHeight(this.container),s=l.getViewport();e+i-document.body.scrollLeft>s.width&&(e-=i),t+o-document.body.scrollTop>s.height&&(t-=o),e<document.body.scrollLeft&&(e=document.body.scrollLeft),t<document.body.scrollTop&&(t=document.body.scrollTop),this.container.style.left=e+"px",this.container.style.top=t+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.visible&&this.container&&!this.container.contains(e.target)&&!e.ctrlKey&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentContextMenuListener(){this.documentContextMenuListener||(this.documentContextMenuListener=e=>{this.show(e)},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)},containerRef(e){this.container=e}},computed:{containerClass(){return["p-contextmenu p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]}},components:{ContextMenuSub:C}};function k(e,t,i,o,s,n){const d=p("ContextMenuSub");return u(),c(f,{to:i.appendTo},[a(m,{name:"p-contextmenu",onEnter:n.onEnter,onLeave:n.onLeave,onAfterLeave:n.onAfterLeave},{default:h(()=>[s.visible?(u(),L("div",b({key:0,ref:n.containerRef,class:n.containerClass},e.$attrs),[a(d,{model:i.model,root:!0,onLeafClick:n.onLeafClick,template:e.$slots.item,exact:i.exact},null,8,["model","onLeafClick","template","exact"])],16)):x("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])],8,["to"])}var E=v(g,[["render",k]]);export{E as default};
