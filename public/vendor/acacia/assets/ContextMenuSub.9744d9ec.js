import{X as u,n as d,w as k,T as w,r as _,E as B,o as l,c as r,F as m,m as D,p as i,P as y,C,f as p,t as x,l as f,G as L}from"./main.9e765f7d.js";import{R as W}from"./ripple.esm.1fe20658.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";const F={name:"ContextMenuSub",emits:["leaf-click"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},watch:{parentActive(t){t||(this.activeItem=null)}},data(){return{activeItem:null}},methods:{onItemMouseEnter(t,a){if(this.disabled(a)){t.preventDefault();return}this.activeItem=a},onItemClick(t,a,s){if(this.disabled(a)){t.preventDefault();return}a.command&&a.command({originalEvent:t,item:a}),a.items&&(this.activeItem&&a===this.activeItem?this.activeItem=null:this.activeItem=a),a.items||this.onLeafClick(),a.to&&s&&s(t)},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onEnter(){this.position()},position(){const t=this.$refs.container.parentElement,a=u.getOffset(this.$refs.container.parentElement),s=u.getViewport(),h=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:u.getHiddenElementOuterWidth(this.$refs.container),c=u.getOuterWidth(t.children[0]);this.$refs.container.style.top="0px",parseInt(a.left,10)+c+h>s.width-u.calculateScrollbarWidth()?this.$refs.container.style.left=-1*h+"px":this.$refs.container.style.left=c+"px"},getItemClass(t){return["p-menuitem",t.class,{"p-menuitem-active":this.activeItem===t}]},linkClass(t,a){return["p-menuitem-link",{"p-disabled":this.disabled(t),"router-link-active":a&&a.isActive,"router-link-active-exact":this.exact&&a&&a.isExactActive}]},visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label(t){return typeof t.label=="function"?t.label():t.label}},computed:{containerClass(){return{"p-submenu-list":!this.root}}},directives:{ripple:W}},V=["onMouseenter"],z=["href","onClick"],H={class:"p-menuitem-text"},N=["href","target","onClick","aria-haspopup","aria-expanded","tabindex"],R={class:"p-menuitem-text"},T={key:0,class:"p-submenu-icon pi pi-angle-right"};function G(t,a,s,h,c,n){const I=_("router-link"),g=_("ContextMenuSub",!0),b=B("ripple");return l(),d(w,{name:"p-contextmenusub",onEnter:n.onEnter},{default:k(()=>[s.root||s.parentActive?(l(),r("ul",{key:0,ref:"container",class:i(n.containerClass),role:"menu"},[(l(!0),r(m,null,D(s.model,(e,v)=>(l(),r(m,{key:n.label(e)+v.toString()},[n.visible(e)&&!e.separator?(l(),r("li",{key:0,role:"none",class:i(n.getItemClass(e)),style:y(e.style),onMouseenter:o=>n.onItemMouseEnter(o,e)},[s.template?(l(),d(L(s.template),{key:1,item:e},null,8,["item"])):(l(),r(m,{key:0},[e.to&&!n.disabled(e)?(l(),d(I,{key:0,to:e.to,custom:""},{default:k(({navigate:o,href:E,isActive:S,isExactActive:A})=>[C((l(),r("a",{href:E,onClick:M=>n.onItemClick(M,e,o),class:i(n.linkClass(e,{isActive:S,isExactActive:A})),role:"menuitem"},[p("span",{class:i(["p-menuitem-icon",e.icon])},null,2),p("span",H,x(n.label(e)),1)],10,z)),[[b]])]),_:2},1032,["to"])):C((l(),r("a",{key:1,href:e.url,class:i(n.linkClass(e)),target:e.target,onClick:o=>n.onItemClick(o,e),"aria-haspopup":e.items!=null,"aria-expanded":e===c.activeItem,role:"menuitem",tabindex:n.disabled(e)?null:"0"},[p("span",{class:i(["p-menuitem-icon",e.icon])},null,2),p("span",R,x(n.label(e)),1),e.items?(l(),r("span",T)):f("",!0)],10,N)),[[b]])],64)),n.visible(e)&&e.items?(l(),d(g,{model:e.items,key:n.label(e)+"_sub_",template:s.template,onLeafClick:n.onLeafClick,parentActive:e===c.activeItem,exact:s.exact},null,8,["model","template","onLeafClick","parentActive","exact"])):f("",!0)],46,V)):f("",!0),n.visible(e)&&e.separator?(l(),r("li",{class:i(["p-menu-separator",e.class]),style:y(e.style),key:"separator"+v.toString(),role:"separator"},null,6)):f("",!0)],64))),128))],2)):f("",!0)]),_:1},8,["onEnter"])}var J=O(F,[["render",G]]);export{J as default};
