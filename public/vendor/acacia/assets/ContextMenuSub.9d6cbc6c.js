import{a5 as u,v as f,w as k,K as w,r as _,O as B,o as l,i as r,F as m,t as D,x as i,an as y,M as C,k as p,z as x,s as d,Q as L}from"./vendor.05df324e.js";import{R as O}from"./ripple.esm.574b991d.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";const j={name:"ContextMenuSub",emits:["leaf-click"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},watch:{parentActive(t){t||(this.activeItem=null)}},data(){return{activeItem:null}},methods:{onItemMouseEnter(t,a){if(this.disabled(a)){t.preventDefault();return}this.activeItem=a},onItemClick(t,a,s){if(this.disabled(a)){t.preventDefault();return}a.command&&a.command({originalEvent:t,item:a}),a.items&&(this.activeItem&&a===this.activeItem?this.activeItem=null:this.activeItem=a),a.items||this.onLeafClick(),a.to&&s&&s(t)},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onEnter(){this.position()},position(){const t=this.$refs.container.parentElement,a=u.getOffset(this.$refs.container.parentElement),s=u.getViewport(),h=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:u.getHiddenElementOuterWidth(this.$refs.container),c=u.getOuterWidth(t.children[0]);this.$refs.container.style.top="0px",parseInt(a.left,10)+c+h>s.width-u.calculateScrollbarWidth()?this.$refs.container.style.left=-1*h+"px":this.$refs.container.style.left=c+"px"},getItemClass(t){return["p-menuitem",t.class,{"p-menuitem-active":this.activeItem===t}]},linkClass(t,a){return["p-menuitem-link",{"p-disabled":this.disabled(t),"router-link-active":a&&a.isActive,"router-link-active-exact":this.exact&&a&&a.isExactActive}]},visible(t){return typeof t.visible=="function"?t.visible():t.visible!==!1},disabled(t){return typeof t.disabled=="function"?t.disabled():t.disabled},label(t){return typeof t.label=="function"?t.label():t.label}},computed:{containerClass(){return{"p-submenu-list":!this.root}}},directives:{ripple:O}},z=["onMouseenter"],F=["href","onClick"],V={class:"p-menuitem-text"},H=["href","target","onClick","aria-haspopup","aria-expanded","tabindex"],N={class:"p-menuitem-text"},R={key:0,class:"p-submenu-icon pi pi-angle-right"};function K(t,a,s,h,c,n){const I=_("router-link"),g=_("ContextMenuSub",!0),v=B("ripple");return l(),f(w,{name:"p-contextmenusub",onEnter:n.onEnter},{default:k(()=>[(s.root?!0:s.parentActive)?(l(),r("ul",{key:0,ref:"container",class:i(n.containerClass),role:"menu"},[(l(!0),r(m,null,D(s.model,(e,b)=>(l(),r(m,{key:n.label(e)+b.toString()},[n.visible(e)&&!e.separator?(l(),r("li",{key:0,role:"none",class:i(n.getItemClass(e)),style:y(e.style),onMouseenter:o=>n.onItemMouseEnter(o,e)},[s.template?(l(),f(L(s.template),{key:1,item:e},null,8,["item"])):(l(),r(m,{key:0},[e.to&&!n.disabled(e)?(l(),f(I,{key:0,to:e.to,custom:""},{default:k(({navigate:o,href:E,isActive:M,isExactActive:S})=>[C((l(),r("a",{href:E,onClick:A=>n.onItemClick(A,e,o),class:i(n.linkClass(e,{isActive:M,isExactActive:S})),role:"menuitem"},[p("span",{class:i(["p-menuitem-icon",e.icon])},null,2),p("span",V,x(n.label(e)),1)],10,F)),[[v]])]),_:2},1032,["to"])):C((l(),r("a",{key:1,href:e.url,class:i(n.linkClass(e)),target:e.target,onClick:o=>n.onItemClick(o,e),"aria-haspopup":e.items!=null,"aria-expanded":e===c.activeItem,role:"menuitem",tabindex:n.disabled(e)?null:"0"},[p("span",{class:i(["p-menuitem-icon",e.icon])},null,2),p("span",N,x(n.label(e)),1),e.items?(l(),r("span",R)):d("",!0)],10,H)),[[v]])],64)),n.visible(e)&&e.items?(l(),f(g,{model:e.items,key:n.label(e)+"_sub_",template:s.template,onLeafClick:n.onLeafClick,parentActive:e===c.activeItem,exact:s.exact},null,8,["model","template","onLeafClick","parentActive","exact"])):d("",!0)],46,z)):d("",!0),n.visible(e)&&e.separator?(l(),r("li",{class:i(["p-menu-separator",e.class]),style:y(e.style),key:"separator"+b.toString(),role:"separator"},null,6)):d("",!0)],64))),128))],2)):d("",!0)]),_:1},8,["onEnter"])}var G=W(j,[["render",K]]);export{G as default};
