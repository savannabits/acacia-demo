var k=Object.defineProperty,w=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var f=(i,s,t)=>s in i?k(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,_=(i,s)=>{for(var t in s||(s={}))S.call(s,t)&&f(i,t,s[t]);if(p)for(var t of p(s))$.call(s,t)&&f(i,t,s[t]);return i},v=(i,s)=>w(i,x(s));import{d as V,s as A,j as y,b as B,u as C,c as N,f as c,e as d,g as a,v as T,n as U,w as E,x as z,h as F,o as b,q as M}from"./main.9e765f7d.js";import{s as j}from"./button.esm.a5ac1061.js";import{s as q}from"./message.esm.a16f09f2.js";import{s as h}from"./inputtext.esm.dc0f2264.js";import{s as D}from"./textarea.esm.a52171b9.js";import{s as P}from"./inputswitch.esm.90fe6344.js";import"./ripple.esm.1fe20658.js";const R=["onSubmit"],Y={class:""},G={class:"my-2"},H=c("label",null,"Slug",-1),I={class:"my-2"},J=c("label",null,"Name",-1),K={class:"my-2"},L=c("label",null,"Description",-1),O={class:"my-2 flex items-center flex-wrap gap-x-2"},Q=c("label",null,"Active",-1),W={class:"text-right min-w-[300px] pt-2 border-t-2"},X=M("You are not authorized to perform this action"),Z=V({name:"AlbumTypeCreate"}),ne=V(v(_({},Z),{emits:["created","error"],setup(i,{emit:s}){const t=A(()=>{var o,e;return(e=(o=z().props)==null?void 0:o.value)==null?void 0:e.flash});y([]),y(!1);const u=B(),n=C({slug:null,name:null,description:null,active:!1}),g=async()=>{n.post(F("acacia.backend.album-types.store"),{onSuccess:o=>{var l;const e=o.props.flash;u.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const r=(l=t.value)==null?void 0:l.payload;s("created",{payload:r})},onError:o=>{var l,m;let e=((l=t.value)==null?void 0:l.error)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||o||"A server error occurred.";u.add({severity:"error",summary:"Error",detail:e,life:3e3});const r=(m=t.value)==null?void 0:m.payload;s("error",{payload:r,message:e})},onFinish:o=>{}})};return(o,e)=>{var r;return(r=o.$page.props.userCan)!=null&&r.createAlbumType?(b(),N("form",{key:0,onSubmit:T(g,["prevent"])},[c("div",Y,[c("div",G,[H,d(a(h),{class:"block w-full",modelValue:a(n).slug,"onUpdate:modelValue":e[0]||(e[0]=l=>a(n).slug=l)},null,8,["modelValue"])]),c("div",I,[J,d(a(h),{class:"block w-full",modelValue:a(n).name,"onUpdate:modelValue":e[1]||(e[1]=l=>a(n).name=l)},null,8,["modelValue"])]),c("div",K,[L,d(a(D),{modelValue:a(n).description,"onUpdate:modelValue":e[2]||(e[2]=l=>a(n).description=l),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),c("div",O,[Q,d(a(P),{class:"block",modelValue:a(n).active,"onUpdate:modelValue":e[3]||(e[3]=l=>a(n).active=l)},null,8,["modelValue"])])]),c("div",W,[d(a(j),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,R)):(b(),U(a(q),{key:1,severity:"error"},{default:E(()=>[X]),_:1}))}}}));export{ne as default};
