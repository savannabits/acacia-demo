var g=Object.defineProperty,w=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var f=(u,s,t)=>s in u?g(u,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[s]=t,b=(u,s)=>{for(var t in s||(s={}))x.call(s,t)&&f(u,t,s[t]);if(p)for(var t of p(s))S.call(s,t)&&f(u,t,s[t]);return u},V=(u,s)=>w(u,C(s));import{d as h,s as U,j as v,b as N,u as B,c as A,f as n,e as c,g as l,v as E,n as M,w as T,x as $,h as D,o as y,q as F}from"./main.9e765f7d.js";import{s as Y}from"./button.esm.a5ac1061.js";import{s as j}from"./message.esm.a16f09f2.js";import{s as r}from"./inputtext.esm.dc0f2264.js";import q from"./AcaciaDatepicker.3e912237.js";import"./ripple.esm.1fe20658.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./plugin-vue_export-helper.21dcd24c.js";const z=["onSubmit"],G={class:""},H={class:"my-2"},L=n("label",null,"Table Name",-1),P={class:"my-2"},R=n("label",null,"Model Class",-1),I={class:"my-2"},J=n("label",null,"Controller Class",-1),K={class:"my-2"},O=n("label",null,"Default Label Column",-1),Q={class:"my-2"},W=n("label",null,"Route Name",-1),X={class:"my-2"},Z=n("label",null,"Generated At",-1),ee={class:"text-right min-w-[300px] pt-2 border-t-2"},le=F("You are not authorized to perform this action"),ae=h({name:"SchematicCreate"}),ie=h(V(b({},ae),{emits:["created","error"],setup(u,{emit:s}){const t=U(()=>{var o,e;return(e=(o=$().props)==null?void 0:o.value)==null?void 0:e.flash});v([]),v(!1);const i=N(),d=B({table_name:null,model_class:null,controller_class:null,route_name:null,default_label_column:null,generated_at:null}),k=async()=>{d.post(D("acacia.g-panel.acacia-schematics.store"),{onSuccess:o=>{var a;const e=o.props.flash;i.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const m=(a=t.value)==null?void 0:a.payload;s("created",{payload:m})},onError:o=>{var a,_;let e=((a=t.value)==null?void 0:a.error)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||o||"A server error occurred.";i.add({severity:"error",summary:"Error",detail:e,life:3e3});const m=(_=t.value)==null?void 0:_.payload;s("error",{payload:m,message:e})},onFinish:o=>{}})};return(o,e)=>{var m;return(m=o.$page.props.can)!=null&&m.create?(y(),A("form",{key:0,onSubmit:E(k,["prevent"])},[n("div",G,[n("div",H,[L,c(l(r),{class:"block w-full",modelValue:l(d).table_name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(d).table_name=a)},null,8,["modelValue"])]),n("div",P,[R,c(l(r),{class:"block w-full",modelValue:l(d).model_class,"onUpdate:modelValue":e[1]||(e[1]=a=>l(d).model_class=a)},null,8,["modelValue"])]),n("div",I,[J,c(l(r),{class:"block w-full",modelValue:l(d).controller_class,"onUpdate:modelValue":e[2]||(e[2]=a=>l(d).controller_class=a)},null,8,["modelValue"])]),n("div",K,[O,c(l(r),{class:"block w-full",modelValue:l(d).default_label_column,"onUpdate:modelValue":e[3]||(e[3]=a=>l(d).default_label_column=a)},null,8,["modelValue"])]),n("div",Q,[W,c(l(r),{class:"block w-full",modelValue:l(d).route_name,"onUpdate:modelValue":e[4]||(e[4]=a=>l(d).route_name=a)},null,8,["modelValue"])]),n("div",X,[Z,c(q,{modelValue:l(d).generated_at,"onUpdate:modelValue":e[5]||(e[5]=a=>l(d).generated_at=a),class:"block w-full","data-disable-mobile":!0,"data-date-format":"Y-m-d H:i","data-enable-time":!0},null,8,["modelValue"])])]),n("div",ee,[c(l(Y),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,z)):(y(),M(l(j),{key:1,severity:"error"},{default:T(()=>[le]),_:1}))}}}));export{ie as default};
