var g=Object.defineProperty,w=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var b=(u,s,t)=>s in u?g(u,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[s]=t,f=(u,s)=>{for(var t in s||(s={}))x.call(s,t)&&b(u,t,s[t]);if(_)for(var t of _(s))C.call(s,t)&&b(u,t,s[t]);return u},v=(u,s)=>w(u,j(s));import{e as V,A as S,p as y,g as U,u as A,i as B,k as d,j as c,m as l,B as N,v as D,w as E,D as M,d as T,o as h,y as $}from"./vendor.05df324e.js";import{s as F}from"./button.esm.cbb15c31.js";import{s as Y}from"./message.esm.2b7d3da1.js";import{s as r}from"./inputtext.esm.b08d2117.js";import z from"./AcaciaDatepicker.a37d4862.js";import"./ripple.esm.574b991d.js";import"./vue-flatpickr.min.87ca1928.js";import"./plugin-vue_export-helper.21dcd24c.js";const G=["onSubmit"],H={class:""},L={class:"my-2"},P=d("label",null,"Table Name",-1),R={class:"my-2"},q=d("label",null,"Model Class",-1),I={class:"my-2"},J=d("label",null,"Controller Class",-1),K={class:"my-2"},O=d("label",null,"Default Label Column",-1),Q={class:"my-2"},W=d("label",null,"Route Name",-1),X={class:"my-2"},Z=d("label",null,"Generated At",-1),ee={class:"text-right min-w-[300px] pt-2 border-t-2"},le=$("You are not authorized to perform this action"),ae=V({name:"SchematicCreate"}),ie=V(v(f({},ae),{emits:["created","error"],setup(u,{emit:s}){const t=S(()=>{var o,e;return(e=(o=M().props)==null?void 0:o.value)==null?void 0:e.flash});y([]),y(!1);const i=U(),n=A({table_name:null,model_class:null,controller_class:null,route_name:null,default_label_column:null,generated_at:null}),k=async()=>{n.post(T("acacia.g-panel.acacia-schematics.store"),{onSuccess:o=>{var a;const e=o.props.flash;i.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const m=(a=t.value)==null?void 0:a.payload;s("created",{payload:m})},onError:o=>{var a,p;let e=((a=t.value)==null?void 0:a.error)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||o||"A server error occurred.";i.add({severity:"error",summary:"Error",detail:e,life:3e3});const m=(p=t.value)==null?void 0:p.payload;s("error",{payload:m,message:e})},onFinish:o=>{}})};return(o,e)=>{var m;return((m=o.$page.props.can)==null?void 0:m.create)?(h(),B("form",{key:0,onSubmit:N(k,["prevent"])},[d("div",H,[d("div",L,[P,c(l(r),{class:"block w-full",modelValue:l(n).table_name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(n).table_name=a)},null,8,["modelValue"])]),d("div",R,[q,c(l(r),{class:"block w-full",modelValue:l(n).model_class,"onUpdate:modelValue":e[1]||(e[1]=a=>l(n).model_class=a)},null,8,["modelValue"])]),d("div",I,[J,c(l(r),{class:"block w-full",modelValue:l(n).controller_class,"onUpdate:modelValue":e[2]||(e[2]=a=>l(n).controller_class=a)},null,8,["modelValue"])]),d("div",K,[O,c(l(r),{class:"block w-full",modelValue:l(n).default_label_column,"onUpdate:modelValue":e[3]||(e[3]=a=>l(n).default_label_column=a)},null,8,["modelValue"])]),d("div",Q,[W,c(l(r),{class:"block w-full",modelValue:l(n).route_name,"onUpdate:modelValue":e[4]||(e[4]=a=>l(n).route_name=a)},null,8,["modelValue"])]),d("div",X,[Z,c(z,{modelValue:l(n).generated_at,"onUpdate:modelValue":e[5]||(e[5]=a=>l(n).generated_at=a),class:"block w-full","data-disable-mobile":!0,"data-date-format":"Y-m-d H:i","data-enable-time":!0},null,8,["modelValue"])])]),d("div",ee,[c(l(F),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,G)):(h(),D(l(Y),{key:1,severity:"error"},{default:E(()=>[le]),_:1}))}}}));export{ie as default};
