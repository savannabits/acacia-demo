var U=Object.defineProperty,j=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var b=(u,i,n)=>i in u?U(u,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[i]=n,V=(u,i)=>{for(var n in i||(i={}))B.call(i,n)&&b(u,n,i[n]);if(f)for(var n of f(i))C.call(i,n)&&b(u,n,i[n]);return u},v=(u,i)=>j(u,S(i));import{e as y,A as F,p as h,g as I,u as N,i as R,k as o,j as a,m as l,x as T,d as x,B as $,v as z,w as A,D,o as k,y as E}from"./vendor.05df324e.js";import{s as H}from"./button.esm.cbb15c31.js";import{s as O}from"./message.esm.2b7d3da1.js";import{s as m}from"./inputtext.esm.b08d2117.js";import{s as w}from"./textarea.esm.b60c054e.js";import{s as r}from"./inputswitch.esm.f0cf91c0.js";import L from"./AcaciaRichSelect.d07900f6.js";import"./ripple.esm.574b991d.js";import"./plugin-vue_export-helper.21dcd24c.js";const M=["onSubmit"],G={class:""},P={class:"my-2"},Y=o("label",null,"Title",-1),q={class:"my-2"},J=o("label",null,"Name",-1),K={class:"my-2"},Q=o("label",null,"Description",-1),W={class:"my-2"},X=o("label",null,"Db Type",-1),Z={class:"my-2"},ll=o("label",null,"Html Type",-1),el={class:"my-2"},sl=o("label",null,"Server Validation",-1),ol={class:"my-2"},tl=o("label",null,"Client Validation",-1),al={class:"my-2 flex items-center flex-wrap gap-x-2"},il=o("label",null,"Is Vue",-1),dl={class:"my-2 flex items-center flex-wrap gap-x-2"},nl=o("label",null,"Has Options",-1),ul={class:"my-2 flex items-center flex-wrap gap-x-2"},ml=o("label",null,"Is Guarded",-1),cl={class:"my-2 flex items-center flex-wrap gap-x-2"},rl=o("label",null,"Is Hidden",-1),pl={class:"my-2 flex items-center flex-wrap gap-x-2"},_l=o("label",null,"In Form",-1),fl={class:"my-2 flex items-center flex-wrap gap-x-2"},bl=o("label",null,"In List",-1),Vl={class:"my-2"},vl=o("label",null,"Options Route Name",-1),yl={class:"my-2"},hl=o("label",null,"Options Label Field",-1),xl={class:"my-2"},kl=o("label",null,"Schematic",-1),wl={class:"text-right min-w-[300px] pt-2 border-t-2"},gl=E("You are not authorized to perform this action"),Ul=y({name:"FieldCreate"}),zl=y(v(V({},Ul),{emits:["created","error"],setup(u,{emit:i}){const n=F(()=>{var d,e;return(e=(d=D().props)==null?void 0:d.value)==null?void 0:e.flash});h([]),h(!1);const p=I(),t=N({title:null,name:null,description:null,db_type:null,html_type:null,server_validation:null,client_validation:null,is_vue:!1,has_options:!1,is_guarded:!1,is_hidden:!1,in_form:!1,in_list:!1,options_route_name:null,options_label_field:null,schematic:null}),g=async()=>{t.post(x("acacia.g-panel.acacia-fields.store"),{onSuccess:d=>{var s;const e=d.props.flash;p.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const c=(s=n.value)==null?void 0:s.payload;i("created",{payload:c})},onError:d=>{var s,_;let e=((s=n.value)==null?void 0:s.error)||(d==null?void 0:d.message)||(d==null?void 0:d.error)||d||"A server error occurred.";p.add({severity:"error",summary:"Error",detail:e,life:3e3});const c=(_=n.value)==null?void 0:_.payload;i("error",{payload:c,message:e})},onFinish:d=>{}})};return(d,e)=>{var c;return((c=d.$page.props.can)==null?void 0:c.create)?(k(),R("form",{key:0,onSubmit:$(g,["prevent"])},[o("div",G,[o("div",P,[Y,a(l(m),{class:"block w-full",modelValue:l(t).title,"onUpdate:modelValue":e[0]||(e[0]=s=>l(t).title=s)},null,8,["modelValue"])]),o("div",q,[J,a(l(m),{class:"block w-full",modelValue:l(t).name,"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).name=s)},null,8,["modelValue"])]),o("div",K,[Q,a(l(m),{class:"block w-full",modelValue:l(t).description,"onUpdate:modelValue":e[2]||(e[2]=s=>l(t).description=s)},null,8,["modelValue"])]),o("div",W,[X,a(l(m),{class:"block w-full",modelValue:l(t).db_type,"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).db_type=s)},null,8,["modelValue"])]),o("div",Z,[ll,a(l(m),{class:"block w-full",modelValue:l(t).html_type,"onUpdate:modelValue":e[4]||(e[4]=s=>l(t).html_type=s)},null,8,["modelValue"])]),o("div",el,[sl,a(l(w),{modelValue:l(t).server_validation,"onUpdate:modelValue":e[5]||(e[5]=s=>l(t).server_validation=s),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",ol,[tl,a(l(w),{modelValue:l(t).client_validation,"onUpdate:modelValue":e[6]||(e[6]=s=>l(t).client_validation=s),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",al,[il,a(l(r),{class:"block",modelValue:l(t).is_vue,"onUpdate:modelValue":e[7]||(e[7]=s=>l(t).is_vue=s)},null,8,["modelValue"])]),o("div",dl,[nl,a(l(r),{class:"block",modelValue:l(t).has_options,"onUpdate:modelValue":e[8]||(e[8]=s=>l(t).has_options=s)},null,8,["modelValue"])]),o("div",ul,[ml,a(l(r),{class:"block",modelValue:l(t).is_guarded,"onUpdate:modelValue":e[9]||(e[9]=s=>l(t).is_guarded=s)},null,8,["modelValue"])]),o("div",cl,[rl,a(l(r),{class:"block",modelValue:l(t).is_hidden,"onUpdate:modelValue":e[10]||(e[10]=s=>l(t).is_hidden=s)},null,8,["modelValue"])]),o("div",pl,[_l,a(l(r),{class:"block",modelValue:l(t).in_form,"onUpdate:modelValue":e[11]||(e[11]=s=>l(t).in_form=s)},null,8,["modelValue"])]),o("div",fl,[bl,a(l(r),{class:"block",modelValue:l(t).in_list,"onUpdate:modelValue":e[12]||(e[12]=s=>l(t).in_list=s)},null,8,["modelValue"])]),o("div",Vl,[vl,a(l(m),{class:"block w-full",modelValue:l(t).options_route_name,"onUpdate:modelValue":e[13]||(e[13]=s=>l(t).options_route_name=s)},null,8,["modelValue"])]),o("div",yl,[hl,a(l(m),{class:"block w-full",modelValue:l(t).options_label_field,"onUpdate:modelValue":e[14]||(e[14]=s=>l(t).options_label_field=s)},null,8,["modelValue"])]),o("div",xl,[kl,a(L,{modelValue:l(t).schematic,"onUpdate:modelValue":e[15]||(e[15]=s=>l(t).schematic=s),class:T("block w-full"),"api-url":l(x)("api.v1.acacia-schematics.index"),label:"table_name"},null,8,["modelValue","api-url"])])]),o("div",wl,[a(l(H),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,M)):(k(),z(l(O),{key:1,severity:"error"},{default:A(()=>[gl]),_:1}))}}}));export{zl as default};
