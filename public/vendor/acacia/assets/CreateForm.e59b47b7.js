var k=Object.defineProperty,w=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var f=(i,s,o)=>s in i?k(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o,_=(i,s)=>{for(var o in s||(s={}))j.call(s,o)&&f(i,o,s[o]);if(p)for(var o of p(s))S.call(s,o)&&f(i,o,s[o]);return i},b=(i,s)=>w(i,x(s));import{e as v,A as B,p as y,g as $,u as A,i as N,k as c,j as r,m as a,B as U,v as C,w as E,D as T,d as z,o as h,y as D}from"./vendor.05df324e.js";import{s as F}from"./button.esm.cbb15c31.js";import{s as M}from"./message.esm.2b7d3da1.js";import{s as V}from"./inputtext.esm.b08d2117.js";import{s as P}from"./textarea.esm.b60c054e.js";import{s as R}from"./inputswitch.esm.f0cf91c0.js";import"./ripple.esm.574b991d.js";const Y=["onSubmit"],q={class:""},G={class:"my-2"},H=c("label",null,"Slug",-1),I={class:"my-2"},J=c("label",null,"Name",-1),K={class:"my-2"},L=c("label",null,"Description",-1),O={class:"my-2 flex items-center flex-wrap gap-x-2"},Q=c("label",null,"Active",-1),W={class:"text-right min-w-[300px] pt-2 border-t-2"},X=D("You are not authorized to perform this action"),Z=v({name:"AlbumTypeCreate"}),ne=v(b(_({},Z),{emits:["created","error"],setup(i,{emit:s}){const o=B(()=>{var t,e;return(e=(t=T().props)==null?void 0:t.value)==null?void 0:e.flash});y([]),y(!1);const u=$(),n=A({slug:null,name:null,description:null,active:!1}),g=async()=>{n.post(z("acacia.backend.album-types.store"),{onSuccess:t=>{var l;const e=t.props.flash;u.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const d=(l=o.value)==null?void 0:l.payload;s("created",{payload:d})},onError:t=>{var l,m;let e=((l=o.value)==null?void 0:l.error)||(t==null?void 0:t.message)||(t==null?void 0:t.error)||t||"A server error occurred.";u.add({severity:"error",summary:"Error",detail:e,life:3e3});const d=(m=o.value)==null?void 0:m.payload;s("error",{payload:d,message:e})},onFinish:t=>{}})};return(t,e)=>{var d;return((d=t.$page.props.can)==null?void 0:d.create)?(h(),N("form",{key:0,onSubmit:U(g,["prevent"])},[c("div",q,[c("div",G,[H,r(a(V),{class:"block w-full",modelValue:a(n).slug,"onUpdate:modelValue":e[0]||(e[0]=l=>a(n).slug=l)},null,8,["modelValue"])]),c("div",I,[J,r(a(V),{class:"block w-full",modelValue:a(n).name,"onUpdate:modelValue":e[1]||(e[1]=l=>a(n).name=l)},null,8,["modelValue"])]),c("div",K,[L,r(a(P),{modelValue:a(n).description,"onUpdate:modelValue":e[2]||(e[2]=l=>a(n).description=l),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),c("div",O,[Q,r(a(R),{class:"block",modelValue:a(n).active,"onUpdate:modelValue":e[3]||(e[3]=l=>a(n).active=l)},null,8,["modelValue"])])]),c("div",W,[r(a(F),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,Y)):(h(),C(a(M),{key:1,severity:"error"},{default:E(()=>[X]),_:1}))}}}));export{ne as default};
