var U=Object.defineProperty,S=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var V=(u,i,d)=>i in u?U(u,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[i]=d,b=(u,i)=>{for(var d in i||(i={}))F.call(i,d)&&V(u,d,i[d]);if(f)for(var d of f(i))I.call(i,d)&&V(u,d,i[d]);return u},v=(u,i)=>S(u,C(i));import{d as w,s as N,j as y,b as T,u as $,c as z,f as o,e as a,g as l,p as B,h,v as R,n as E,w as H,x as O,o as x,q as A}from"./main.9e765f7d.js";import{s as D}from"./button.esm.a5ac1061.js";import{s as L}from"./message.esm.a16f09f2.js";import{s as m}from"./inputtext.esm.dc0f2264.js";import{s as k}from"./textarea.esm.a52171b9.js";import{s as c}from"./inputswitch.esm.90fe6344.js";import M from"./AcaciaRichSelect.1af0e202.js";import"./ripple.esm.1fe20658.js";import"./vue-select.c5557806.js";import"./plugin-vue_export-helper.21dcd24c.js";const j=["onSubmit"],q={class:""},G={class:"my-2"},P=o("label",null,"Title",-1),Y={class:"my-2"},J=o("label",null,"Name",-1),K={class:"my-2"},Q=o("label",null,"Description",-1),W={class:"my-2"},X=o("label",null,"Db Type",-1),Z={class:"my-2"},ll=o("label",null,"Html Type",-1),el={class:"my-2"},sl=o("label",null,"Server Validation",-1),ol={class:"my-2"},tl=o("label",null,"Client Validation",-1),al={class:"my-2 flex items-center flex-wrap gap-x-2"},il=o("label",null,"Is Vue",-1),nl={class:"my-2 flex items-center flex-wrap gap-x-2"},dl=o("label",null,"Has Options",-1),ul={class:"my-2 flex items-center flex-wrap gap-x-2"},ml=o("label",null,"Is Guarded",-1),rl={class:"my-2 flex items-center flex-wrap gap-x-2"},cl=o("label",null,"Is Hidden",-1),pl={class:"my-2 flex items-center flex-wrap gap-x-2"},_l=o("label",null,"In Form",-1),fl={class:"my-2 flex items-center flex-wrap gap-x-2"},Vl=o("label",null,"In List",-1),bl={class:"my-2"},vl=o("label",null,"Options Route Name",-1),yl={class:"my-2"},hl=o("label",null,"Options Label Field",-1),xl={class:"my-2"},kl=o("label",null,"Schematic",-1),wl={class:"text-right min-w-[300px] pt-2 border-t-2"},gl=A("You are not authorized to perform this action"),Ul=w({name:"FieldCreate"}),Hl=w(v(b({},Ul),{emits:["created","error"],setup(u,{emit:i}){const d=N(()=>{var n,e;return(e=(n=O().props)==null?void 0:n.value)==null?void 0:e.flash});y([]),y(!1);const p=T(),t=$({title:null,name:null,description:null,db_type:null,html_type:null,server_validation:null,client_validation:null,is_vue:!1,has_options:!1,is_guarded:!1,is_hidden:!1,in_form:!1,in_list:!1,options_route_name:null,options_label_field:null,schematic:null}),g=async()=>{t.post(h("acacia.g-panel.acacia-fields.store"),{onSuccess:n=>{var s;const e=n.props.flash;p.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const r=(s=d.value)==null?void 0:s.payload;i("created",{payload:r})},onError:n=>{var s,_;let e=((s=d.value)==null?void 0:s.error)||(n==null?void 0:n.message)||(n==null?void 0:n.error)||n||"A server error occurred.";p.add({severity:"error",summary:"Error",detail:e,life:3e3});const r=(_=d.value)==null?void 0:_.payload;i("error",{payload:r,message:e})},onFinish:n=>{}})};return(n,e)=>{var r;return(r=n.$page.props.can)!=null&&r.create?(x(),z("form",{key:0,onSubmit:R(g,["prevent"])},[o("div",q,[o("div",G,[P,a(l(m),{class:"block w-full",modelValue:l(t).title,"onUpdate:modelValue":e[0]||(e[0]=s=>l(t).title=s)},null,8,["modelValue"])]),o("div",Y,[J,a(l(m),{class:"block w-full",modelValue:l(t).name,"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).name=s)},null,8,["modelValue"])]),o("div",K,[Q,a(l(m),{class:"block w-full",modelValue:l(t).description,"onUpdate:modelValue":e[2]||(e[2]=s=>l(t).description=s)},null,8,["modelValue"])]),o("div",W,[X,a(l(m),{class:"block w-full",modelValue:l(t).db_type,"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).db_type=s)},null,8,["modelValue"])]),o("div",Z,[ll,a(l(m),{class:"block w-full",modelValue:l(t).html_type,"onUpdate:modelValue":e[4]||(e[4]=s=>l(t).html_type=s)},null,8,["modelValue"])]),o("div",el,[sl,a(l(k),{modelValue:l(t).server_validation,"onUpdate:modelValue":e[5]||(e[5]=s=>l(t).server_validation=s),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",ol,[tl,a(l(k),{modelValue:l(t).client_validation,"onUpdate:modelValue":e[6]||(e[6]=s=>l(t).client_validation=s),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",al,[il,a(l(c),{class:"block",modelValue:l(t).is_vue,"onUpdate:modelValue":e[7]||(e[7]=s=>l(t).is_vue=s)},null,8,["modelValue"])]),o("div",nl,[dl,a(l(c),{class:"block",modelValue:l(t).has_options,"onUpdate:modelValue":e[8]||(e[8]=s=>l(t).has_options=s)},null,8,["modelValue"])]),o("div",ul,[ml,a(l(c),{class:"block",modelValue:l(t).is_guarded,"onUpdate:modelValue":e[9]||(e[9]=s=>l(t).is_guarded=s)},null,8,["modelValue"])]),o("div",rl,[cl,a(l(c),{class:"block",modelValue:l(t).is_hidden,"onUpdate:modelValue":e[10]||(e[10]=s=>l(t).is_hidden=s)},null,8,["modelValue"])]),o("div",pl,[_l,a(l(c),{class:"block",modelValue:l(t).in_form,"onUpdate:modelValue":e[11]||(e[11]=s=>l(t).in_form=s)},null,8,["modelValue"])]),o("div",fl,[Vl,a(l(c),{class:"block",modelValue:l(t).in_list,"onUpdate:modelValue":e[12]||(e[12]=s=>l(t).in_list=s)},null,8,["modelValue"])]),o("div",bl,[vl,a(l(m),{class:"block w-full",modelValue:l(t).options_route_name,"onUpdate:modelValue":e[13]||(e[13]=s=>l(t).options_route_name=s)},null,8,["modelValue"])]),o("div",yl,[hl,a(l(m),{class:"block w-full",modelValue:l(t).options_label_field,"onUpdate:modelValue":e[14]||(e[14]=s=>l(t).options_label_field=s)},null,8,["modelValue"])]),o("div",xl,[kl,a(M,{modelValue:l(t).schematic,"onUpdate:modelValue":e[15]||(e[15]=s=>l(t).schematic=s),class:B("block w-full"),"api-url":l(h)("api.v1.acacia-schematics.index"),label:"table_name"},null,8,["modelValue","api-url"])])]),o("div",wl,[a(l(D),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,j)):(x(),E(l(L),{key:1,severity:"error"},{default:H(()=>[gl]),_:1}))}}}));export{Hl as default};
