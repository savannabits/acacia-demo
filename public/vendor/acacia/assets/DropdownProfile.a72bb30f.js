import{s as g,j as d,y as _,B as x,c as h,f as o,t as c,v as w,e as u,w as p,T as y,x as k,r as b,o as O,C,D as L,p as B,q as v}from"./main.9e765f7d.js";import{_ as E}from"./user-avatar-32.07bf604b.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";const D={name:"DropdownProfile",props:["align"],setup(){const a=g(()=>{var n;return(n=k().props.value.auth)==null?void 0:n.user}),e=d(!1),r=d(null),t=d(null),i=({target:n})=>{!e.value||t.value.contains(n)||r.value.contains(n)||(e.value=!1)},l=({keyCode:n})=>{!e.value||n!==27||(e.value=!1)};return _(()=>{document.addEventListener("click",i),document.addEventListener("keydown",l)}),x(()=>{document.removeEventListener("click",i),document.removeEventListener("keydown",l)}),{user:a,userAvatar:E,dropdownOpen:e,trigger:r,dropdown:t}}},z={class:"relative inline-flex"},A=["aria-expanded"],N=["src"],S={class:"flex items-center truncate"},T={class:"truncate ml-2 text-sm font-medium group-hover:text-gray-800"},V=o("svg",{class:"w-3 h-3 shrink-0 ml-1 fill-current text-gray-400",viewBox:"0 0 12 12"},[o("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})],-1),j={class:"pt-0.5 pb-2 px-3 mb-1 border-b border-gray-200"},F={class:"font-medium text-gray-800"},H={class:"text-xs text-gray-500 italic"},P=v("My Account "),U=v("Sign Out ");function q(a,e,r,t,i,l){var m,f;const n=b("router-link");return O(),h("div",z,[o("button",{ref:"trigger",class:"inline-flex justify-center items-center group","aria-haspopup":"true",onClick:e[0]||(e[0]=w(s=>t.dropdownOpen=!t.dropdownOpen,["prevent"])),"aria-expanded":t.dropdownOpen},[o("img",{class:"w-8 h-8 rounded-full",src:(f=(m=t.user)==null?void 0:m.image_url)!=null?f:t.userAvatar,width:"32",height:"32",alt:"L"},null,8,N),o("div",S,[o("span",T,c(t.user.name),1),V])],8,A),u(y,{"enter-active-class":"transition ease-out duration-200 transform","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-out duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:p(()=>[C(o("div",{class:B(["origin-top-right z-10 absolute top-full min-w-44 bg-white border border-gray-200 py-1.5 rounded shadow-lg overflow-hidden mt-1",r.align==="right"?"right-0":"left-0"])},[o("div",j,[o("div",F,c(t.user.name),1),o("div",H,c(t.user.email),1)]),o("ul",{ref:"dropdown",onFocusin:e[3]||(e[3]=s=>t.dropdownOpen=!0),onFocusout:e[4]||(e[4]=s=>t.dropdownOpen=!1)},[o("li",null,[u(n,{class:"font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3",href:"#",onClick:e[1]||(e[1]=s=>t.dropdownOpen=!1)},{default:p(()=>[P]),_:1})]),o("li",null,[u(n,{class:"font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3",href:a.route("logout"),onClick:e[2]||(e[2]=s=>t.dropdownOpen=!1)},{default:p(()=>[U]),_:1},8,["href"])])],544)],2),[[L,t.dropdownOpen]])]),_:1})])}var K=M(D,[["render",q]]);export{K as default};
