import{A as g,p as d,E as x,J as w,i as _,k as o,z as c,B as m,j as v,w as f,K as h,D as y,n as b,d as k,r as O,o as L,M as C,N as E,x as M,y as j}from"./vendor.05df324e.js";import{_ as B}from"./user-avatar-32.07bf604b.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";const z={name:"DropdownProfile",props:["align"],setup(){const u=g(()=>{var n;return(n=y().props.value.auth)==null?void 0:n.user}),e=d(!1),s=d(null),t=d(null),a=({target:n})=>{!e.value||t.value.contains(n)||s.value.contains(n)||(e.value=!1)},i=({keyCode:n})=>{!e.value||n!==27||(e.value=!1)},l=async()=>{b.Inertia.post(k("logout")),window.location.reload()};return x(()=>{document.addEventListener("click",a),document.addEventListener("keydown",i)}),w(()=>{document.removeEventListener("click",a),document.removeEventListener("keydown",i)}),{user:u,userAvatar:B,dropdownOpen:e,trigger:s,dropdown:t,logout:l}}},A={class:"relative inline-flex"},D=["aria-expanded"],N=["src"],P={class:"flex items-center truncate"},T={class:"truncate ml-2 text-sm font-medium group-hover:text-gray-800"},V=o("svg",{class:"w-3 h-3 shrink-0 ml-1 fill-current text-gray-400",viewBox:"0 0 12 12"},[o("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})],-1),F={class:"pt-0.5 pb-2 px-3 mb-1 border-b border-gray-200"},H={class:"font-medium text-gray-800"},U={class:"text-xs text-gray-500 italic"},I=j("My Account ");function J(u,e,s,t,a,i){var n,p;const l=O("router-link");return L(),_("div",A,[o("button",{ref:"trigger",class:"inline-flex justify-center items-center group","aria-haspopup":"true",onClick:e[0]||(e[0]=m(r=>t.dropdownOpen=!t.dropdownOpen,["prevent"])),"aria-expanded":t.dropdownOpen},[o("img",{class:"w-8 h-8 rounded-full",src:(p=(n=t.user)==null?void 0:n.image_url)!=null?p:t.userAvatar,width:"32",height:"32",alt:"L"},null,8,N),o("div",P,[o("span",T,c(t.user.name),1),V])],8,D),v(h,{"enter-active-class":"transition ease-out duration-200 transform","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-out duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[C(o("div",{class:M(["origin-top-right z-10 absolute top-full min-w-44 bg-white border border-gray-200 py-1.5 rounded shadow-lg overflow-hidden mt-1",s.align==="right"?"right-0":"left-0"])},[o("div",F,[o("div",H,c(t.user.name),1),o("div",U,c(t.user.email),1)]),o("ul",{ref:"dropdown",onFocusin:e[4]||(e[4]=r=>t.dropdownOpen=!0),onFocusout:e[5]||(e[5]=r=>t.dropdownOpen=!1)},[o("li",null,[v(l,{class:"font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3",href:"#",onClick:e[1]||(e[1]=r=>t.dropdownOpen=!1)},{default:f(()=>[I]),_:1})]),o("li",null,[o("form",{method:"POST",onSubmit:e[3]||(e[3]=m((...r)=>t.logout&&t.logout(...r),["prevent"]))},[o("button",{type:"submit",class:"font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3",onClick:e[2]||(e[2]=r=>t.dropdownOpen=!1)},"Sign Out ")],32)])],544)],2),[[E,t.dropdownOpen]])]),_:1})])}var Q=S(z,[["render",J]]);export{Q as default};
