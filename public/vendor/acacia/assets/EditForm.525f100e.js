var F=Object.defineProperty,I=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var y=(u,d,n)=>d in u?F(u,d,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[d]=n,f=(u,d)=>{for(var n in d||(d={}))T.call(d,n)&&y(u,n,d[n]);if(v)for(var n of v(d))z.call(d,n)&&y(u,n,d[n]);return u},h=(u,d)=>I(u,N(d));import{d as g,s as B,j as x,b as C,u as E,g as l,c as R,f as o,e as a,p as $,h as k,v as H,n as O,w as A,x as D,o as w,q as L}from"./main.9e765f7d.js";import{s as M}from"./button.esm.a5ac1061.js";import{s as j}from"./message.esm.a16f09f2.js";import{s as c}from"./inputtext.esm.dc0f2264.js";import{s as U}from"./textarea.esm.a52171b9.js";import{s as r}from"./inputswitch.esm.90fe6344.js";import q from"./AcaciaRichSelect.1af0e202.js";import"./ripple.esm.1fe20658.js";import"./vue-select.c5557806.js";import"./plugin-vue_export-helper.21dcd24c.js";const G=["onSubmit"],P={class:""},Y={class:"my-2"},J=o("label",null,"Title",-1),K={class:"my-2"},Q=o("label",null,"Name",-1),W={class:"my-2"},X=o("label",null,"Description",-1),Z={class:"my-2"},ll=o("label",null,"Db Type",-1),el={class:"my-2"},sl=o("label",null,"Html Type",-1),ol={class:"my-2"},tl=o("label",null,"Server Validation",-1),al={class:"my-2"},dl=o("label",null,"Client Validation",-1),il={class:"my-2 flex items-center flex-wrap gap-x-2"},nl=o("label",null,"Is Vue",-1),ul={class:"my-2 flex items-center flex-wrap gap-x-2"},ml=o("label",null,"Has Options",-1),cl={class:"my-2 flex items-center flex-wrap gap-x-2"},pl=o("label",null,"Is Guarded",-1),rl={class:"my-2 flex items-center flex-wrap gap-x-2"},_l=o("label",null,"Is Hidden",-1),Vl={class:"my-2 flex items-center flex-wrap gap-x-2"},fl=o("label",null,"In Form",-1),bl={class:"my-2 flex items-center flex-wrap gap-x-2"},vl=o("label",null,"In List",-1),yl={class:"my-2"},hl=o("label",null,"Options Route Name",-1),xl={class:"my-2"},kl=o("label",null,"Options Label Field",-1),wl={class:"my-2"},Ul=o("label",null,"Schematic",-1),gl={class:"text-right min-w-[300px] pt-2 border-t-2"},Sl=L("You are not authorized to perform this action"),Fl=g({name:"FieldEditForm"}),Al=g(h(f({},Fl),{props:{model:{}},emits:["updated","error"],setup(u,{emit:d}){const n=u,_=B(()=>{var i,e;return(e=(i=D().props)==null?void 0:i.value)==null?void 0:e.flash});x([]),x(!1);const b=C(),V=n.model,t=E(f({},V)),S=async()=>{t.put(k("acacia.g-panel.acacia-fields.update",V),{onSuccess:i=>{var m;const e=i.props.flash;b.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const p=(m=_.value)==null?void 0:m.payload;d("updated",{payload:p})},onError:i=>{var m,s;let e=((m=_.value)==null?void 0:m.error)||(i==null?void 0:i.message)||(i==null?void 0:i.error)||i||"A server error occurred.";b.add({severity:"error",summary:"Error",detail:e,life:3e3});const p=(s=_.value)==null?void 0:s.payload;d("error",{payload:p,message:e})},onFinish:i=>{}})};return(i,e)=>{var p,m;return(m=(p=l(V))==null?void 0:p.can)!=null&&m.update?(w(),R("form",{key:0,onSubmit:H(S,["prevent"])},[o("div",P,[o("div",Y,[J,a(l(c),{class:"block w-full",modelValue:l(t).title,"onUpdate:modelValue":e[0]||(e[0]=s=>l(t).title=s)},null,8,["modelValue"])]),o("div",K,[Q,a(l(c),{class:"block w-full",modelValue:l(t).name,"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).name=s)},null,8,["modelValue"])]),o("div",W,[X,a(l(c),{class:"block w-full",modelValue:l(t).description,"onUpdate:modelValue":e[2]||(e[2]=s=>l(t).description=s)},null,8,["modelValue"])]),o("div",Z,[ll,a(l(c),{class:"block w-full",modelValue:l(t).db_type,"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).db_type=s)},null,8,["modelValue"])]),o("div",el,[sl,a(l(c),{class:"block w-full",modelValue:l(t).html_type,"onUpdate:modelValue":e[4]||(e[4]=s=>l(t).html_type=s)},null,8,["modelValue"])]),o("div",ol,[tl,a(l(U),{modelValue:l(t).server_validation,"onUpdate:modelValue":e[5]||(e[5]=s=>l(t).server_validation=s),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",al,[dl,a(l(U),{modelValue:l(t).client_validation,"onUpdate:modelValue":e[6]||(e[6]=s=>l(t).client_validation=s),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),o("div",il,[nl,a(l(r),{class:"block",modelValue:l(t).is_vue,"onUpdate:modelValue":e[7]||(e[7]=s=>l(t).is_vue=s)},null,8,["modelValue"])]),o("div",ul,[ml,a(l(r),{class:"block",modelValue:l(t).has_options,"onUpdate:modelValue":e[8]||(e[8]=s=>l(t).has_options=s)},null,8,["modelValue"])]),o("div",cl,[pl,a(l(r),{class:"block",modelValue:l(t).is_guarded,"onUpdate:modelValue":e[9]||(e[9]=s=>l(t).is_guarded=s)},null,8,["modelValue"])]),o("div",rl,[_l,a(l(r),{class:"block",modelValue:l(t).is_hidden,"onUpdate:modelValue":e[10]||(e[10]=s=>l(t).is_hidden=s)},null,8,["modelValue"])]),o("div",Vl,[fl,a(l(r),{class:"block",modelValue:l(t).in_form,"onUpdate:modelValue":e[11]||(e[11]=s=>l(t).in_form=s)},null,8,["modelValue"])]),o("div",bl,[vl,a(l(r),{class:"block",modelValue:l(t).in_list,"onUpdate:modelValue":e[12]||(e[12]=s=>l(t).in_list=s)},null,8,["modelValue"])]),o("div",yl,[hl,a(l(c),{class:"block w-full",modelValue:l(t).options_route_name,"onUpdate:modelValue":e[13]||(e[13]=s=>l(t).options_route_name=s)},null,8,["modelValue"])]),o("div",xl,[kl,a(l(c),{class:"block w-full",modelValue:l(t).options_label_field,"onUpdate:modelValue":e[14]||(e[14]=s=>l(t).options_label_field=s)},null,8,["modelValue"])]),o("div",wl,[Ul,a(q,{modelValue:l(t).schematic,"onUpdate:modelValue":e[15]||(e[15]=s=>l(t).schematic=s),class:$("block w-full"),"api-url":l(k)("api.v1.acacia-schematics.index"),label:"table_name"},null,8,["modelValue","api-url"])])]),o("div",gl,[a(l(M),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,G)):(w(),O(l(j),{key:1,severity:"error"},{default:A(()=>[Sl]),_:1}))}}}));export{Al as default};
