var x=Object.defineProperty,C=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var v=(u,a,n)=>a in u?x(u,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[a]=n,f=(u,a)=>{for(var n in a||(a={}))U.call(a,n)&&v(u,n,a[n]);if(V)for(var n of V(a))N.call(a,n)&&v(u,n,a[n]);return u},y=(u,a)=>C(u,S(a));import{d as w,s as B,j as h,b as E,u as A,g as l,c as F,f as t,e as c,v as M,n as T,w as D,x as Y,h as $,o as k,q as j}from"./main.9e765f7d.js";import{s as q}from"./button.esm.a5ac1061.js";import{s as z}from"./message.esm.a16f09f2.js";import{s as r}from"./inputtext.esm.dc0f2264.js";import G from"./AcaciaDatepicker.3e912237.js";import"./ripple.esm.1fe20658.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./plugin-vue_export-helper.21dcd24c.js";const H=["onSubmit"],L={class:""},P={class:"my-2"},R=t("label",null,"Table Name",-1),I={class:"my-2"},J=t("label",null,"Model Class",-1),K={class:"my-2"},O=t("label",null,"Controller Class",-1),Q={class:"my-2"},W=t("label",null,"Default Label Column",-1),X={class:"my-2"},Z=t("label",null,"Route Name",-1),ee={class:"my-2"},le=t("label",null,"Generated At",-1),ae={class:"text-right min-w-[300px] pt-2 border-t-2"},oe=j("You are not authorized to perform this action"),se=w({name:"SchematicEditForm"}),_e=w(y(f({},se),{props:{model:{}},emits:["updated","error"],setup(u,{emit:a}){const n=u,p=B(()=>{var o,e;return(e=(o=Y().props)==null?void 0:o.value)==null?void 0:e.flash});h([]),h(!1);const b=E(),_=n.model,d=A(f({},_)),g=async()=>{d.put($("acacia.g-panel.acacia-schematics.update",_),{onSuccess:o=>{var m;const e=o.props.flash;b.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const i=(m=p.value)==null?void 0:m.payload;a("updated",{payload:i})},onError:o=>{var m,s;let e=((m=p.value)==null?void 0:m.error)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||o||"A server error occurred.";b.add({severity:"error",summary:"Error",detail:e,life:3e3});const i=(s=p.value)==null?void 0:s.payload;a("error",{payload:i,message:e})},onFinish:o=>{}})};return(o,e)=>{var i,m;return(m=(i=l(_))==null?void 0:i.can)!=null&&m.update?(k(),F("form",{key:0,onSubmit:M(g,["prevent"])},[t("div",L,[t("div",P,[R,c(l(r),{class:"block w-full",modelValue:l(d).table_name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(d).table_name=s)},null,8,["modelValue"])]),t("div",I,[J,c(l(r),{class:"block w-full",modelValue:l(d).model_class,"onUpdate:modelValue":e[1]||(e[1]=s=>l(d).model_class=s)},null,8,["modelValue"])]),t("div",K,[O,c(l(r),{class:"block w-full",modelValue:l(d).controller_class,"onUpdate:modelValue":e[2]||(e[2]=s=>l(d).controller_class=s)},null,8,["modelValue"])]),t("div",Q,[W,c(l(r),{class:"block w-full",modelValue:l(d).default_label_column,"onUpdate:modelValue":e[3]||(e[3]=s=>l(d).default_label_column=s)},null,8,["modelValue"])]),t("div",X,[Z,c(l(r),{class:"block w-full",modelValue:l(d).route_name,"onUpdate:modelValue":e[4]||(e[4]=s=>l(d).route_name=s)},null,8,["modelValue"])]),t("div",ee,[le,c(G,{modelValue:l(d).generated_at,"onUpdate:modelValue":e[5]||(e[5]=s=>l(d).generated_at=s),class:"block w-full","data-disable-mobile":!0,"data-date-format":"Y-m-d H:i","data-enable-time":!0},null,8,["modelValue"])])]),t("div",ae,[c(l(q),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,H)):(k(),T(l(z),{key:1,severity:"error"},{default:D(()=>[oe]),_:1}))}}}));export{_e as default};
