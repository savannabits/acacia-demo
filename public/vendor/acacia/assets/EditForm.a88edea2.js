var w=Object.defineProperty,S=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var y=(l,s,a)=>s in l?w(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a,f=(l,s)=>{for(var a in s||(s={}))E.call(s,a)&&y(l,a,s[a]);if(v)for(var a of v(s))N.call(s,a)&&y(l,a,s[a]);return l},b=(l,s)=>S(l,B(s));import{d as g,s as U,j as h,b as $,u as A,g as o,c as F,f as i,e as r,v as T,n as z,w as C,x as M,h as j,o as V,q}from"./main.9e765f7d.js";import{s as D}from"./button.esm.a5ac1061.js";import{s as P}from"./message.esm.a16f09f2.js";import{s as k}from"./inputtext.esm.dc0f2264.js";import{s as R}from"./textarea.esm.a52171b9.js";import{s as Y}from"./inputswitch.esm.90fe6344.js";import"./ripple.esm.1fe20658.js";const G=["onSubmit"],H={class:""},I={class:"my-2"},J=i("label",null,"Slug",-1),K={class:"my-2"},L=i("label",null,"Name",-1),O={class:"my-2"},Q=i("label",null,"Description",-1),W={class:"my-2 flex items-center flex-wrap gap-x-2"},X=i("label",null,"Active",-1),Z={class:"text-right min-w-[300px] pt-2 border-t-2"},ee=q("You are not authorized to perform this action"),se=g({name:"AlbumTypeEditForm"}),ue=g(b(f({},se),{props:{model:{}},emits:["updated","error"],setup(l,{emit:s}){const a=l,m=U(()=>{var t,e;return(e=(t=M().props)==null?void 0:t.value)==null?void 0:e.flash});h([]),h(!1);const _=$(),p=a.model,c=A(f({},p)),x=async()=>{c.put(j("acacia.backend.album-types.update",p),{onSuccess:t=>{var n;const e=t.props.flash;_.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const u=(n=m.value)==null?void 0:n.payload;s("updated",{payload:u})},onError:t=>{var n,d;let e=((n=m.value)==null?void 0:n.error)||(t==null?void 0:t.message)||(t==null?void 0:t.error)||t||"A server error occurred.";_.add({severity:"error",summary:"Error",detail:e,life:3e3});const u=(d=m.value)==null?void 0:d.payload;s("error",{payload:u,message:e})},onFinish:t=>{}})};return(t,e)=>{var u,n;return(n=(u=o(p))==null?void 0:u.can)!=null&&n.update?(V(),F("form",{key:0,onSubmit:T(x,["prevent"])},[i("div",H,[i("div",I,[J,r(o(k),{class:"block w-full",modelValue:o(c).slug,"onUpdate:modelValue":e[0]||(e[0]=d=>o(c).slug=d)},null,8,["modelValue"])]),i("div",K,[L,r(o(k),{class:"block w-full",modelValue:o(c).name,"onUpdate:modelValue":e[1]||(e[1]=d=>o(c).name=d)},null,8,["modelValue"])]),i("div",O,[Q,r(o(R),{modelValue:o(c).description,"onUpdate:modelValue":e[2]||(e[2]=d=>o(c).description=d),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),i("div",W,[X,r(o(Y),{class:"block",modelValue:o(c).active,"onUpdate:modelValue":e[3]||(e[3]=d=>o(c).active=d)},null,8,["modelValue"])])]),i("div",Z,[r(o(D),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,G)):(V(),z(o(P),{key:1,severity:"error"},{default:C(()=>[ee]),_:1}))}}}));export{ue as default};
