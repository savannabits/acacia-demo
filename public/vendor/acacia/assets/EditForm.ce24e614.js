var g=Object.defineProperty,j=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var v=(i,a,n)=>a in i?g(i,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[a]=n,f=(i,a)=>{for(var n in a||(a={}))A.call(a,n)&&v(i,n,a[n]);if(b)for(var n of b(a))B.call(a,n)&&v(i,n,a[n]);return i},y=(i,a)=>j(i,S(a));import{e as h,A as N,p as k,g as P,u as E,m as e,i as M,k as o,j as u,x as C,d as w,B as F,v as R,w as T,D as z,o as U,y as D}from"./vendor.05df324e.js";import{s as $}from"./button.esm.cbb15c31.js";import{s as I}from"./message.esm.2b7d3da1.js";import{s as m}from"./inputtext.esm.b08d2117.js";import Y from"./AcaciaRichSelect.d07900f6.js";import"./ripple.esm.574b991d.js";import"./plugin-vue_export-helper.21dcd24c.js";const q=["onSubmit"],G={class:""},H={class:"my-2"},J=o("label",null,"Title",-1),K={class:"my-2"},L=o("label",null,"Icon",-1),O={class:"my-2"},Q=o("label",null,"Route",-1),W={class:"my-2"},X=o("label",null,"Url",-1),Z={class:"my-2"},ee=o("label",null,"Active Pattern",-1),le={class:"my-2"},se=o("label",null,"Position",-1),oe={class:"my-2"},te=o("label",null,"Permission Name",-1),ae={class:"my-2"},de=o("label",null,"Module Name",-1),ne={class:"my-2"},ie=o("label",null,"Description",-1),ue={class:"my-2"},me=o("label",null,"Parent",-1),ce={class:"text-right min-w-[300px] pt-2 border-t-2"},re=D("You are not authorized to perform this action"),pe=h({name:"MenuEditForm"}),we=h(y(f({},pe),{props:{model:{}},emits:["updated","error"],setup(i,{emit:a}){const n=i,p=N(()=>{var d,l;return(l=(d=z().props)==null?void 0:d.value)==null?void 0:l.flash});k([]),k(!1);const V=P(),_=n.model,t=E(f({},_)),x=async()=>{t.put(w("acacia.g-panel.acacia-menus.update",_),{onSuccess:d=>{var c;const l=d.props.flash;V.add({severity:"success",summary:"Success",detail:l==null?void 0:l.success,life:2e3});const r=(c=p.value)==null?void 0:c.payload;a("updated",{payload:r})},onError:d=>{var c,s;let l=((c=p.value)==null?void 0:c.error)||(d==null?void 0:d.message)||(d==null?void 0:d.error)||d||"A server error occurred.";V.add({severity:"error",summary:"Error",detail:l,life:3e3});const r=(s=p.value)==null?void 0:s.payload;a("error",{payload:r,message:l})},onFinish:d=>{}})};return(d,l)=>{var r,c;return((c=(r=e(_))==null?void 0:r.can)==null?void 0:c.update)?(U(),M("form",{key:0,onSubmit:F(x,["prevent"])},[o("div",G,[o("div",H,[J,u(e(m),{class:"block w-full",modelValue:e(t).title,"onUpdate:modelValue":l[0]||(l[0]=s=>e(t).title=s)},null,8,["modelValue"])]),o("div",K,[L,u(e(m),{class:"block w-full",modelValue:e(t).icon,"onUpdate:modelValue":l[1]||(l[1]=s=>e(t).icon=s)},null,8,["modelValue"])]),o("div",O,[Q,u(e(m),{class:"block w-full",modelValue:e(t).route,"onUpdate:modelValue":l[2]||(l[2]=s=>e(t).route=s)},null,8,["modelValue"])]),o("div",W,[X,u(e(m),{class:"block w-full",modelValue:e(t).url,"onUpdate:modelValue":l[3]||(l[3]=s=>e(t).url=s)},null,8,["modelValue"])]),o("div",Z,[ee,u(e(m),{class:"block w-full",modelValue:e(t).active_pattern,"onUpdate:modelValue":l[4]||(l[4]=s=>e(t).active_pattern=s)},null,8,["modelValue"])]),o("div",le,[se,u(e(m),{class:"block w-full",modelValue:e(t).position,"onUpdate:modelValue":l[5]||(l[5]=s=>e(t).position=s)},null,8,["modelValue"])]),o("div",oe,[te,u(e(m),{class:"block w-full",modelValue:e(t).permission_name,"onUpdate:modelValue":l[6]||(l[6]=s=>e(t).permission_name=s)},null,8,["modelValue"])]),o("div",ae,[de,u(e(m),{class:"block w-full",modelValue:e(t).module_name,"onUpdate:modelValue":l[7]||(l[7]=s=>e(t).module_name=s)},null,8,["modelValue"])]),o("div",ne,[ie,u(e(m),{class:"block w-full",modelValue:e(t).description,"onUpdate:modelValue":l[8]||(l[8]=s=>e(t).description=s)},null,8,["modelValue"])]),o("div",ue,[me,u(Y,{modelValue:e(t).parent,"onUpdate:modelValue":l[9]||(l[9]=s=>e(t).parent=s),class:C("block w-full"),"api-url":e(w)("api.v1.acacia-menus.index"),label:"title"},null,8,["modelValue","api-url"])])]),o("div",ce,[u(e($),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,q)):(U(),R(e(I),{key:1,severity:"error"},{default:T(()=>[re]),_:1}))}}}));export{we as default};
