var j=Object.defineProperty,x=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var V=(u,s,n)=>s in u?j(u,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[s]=n,f=(u,s)=>{for(var n in s||(s={}))S.call(s,n)&&V(u,n,s[n]);if(v)for(var n of v(s))U.call(s,n)&&V(u,n,s[n]);return u},y=(u,s)=>x(u,C(s));import{e as h,A,p as k,g as B,u as N,m as l,i as D,k as t,j as c,B as E,v as F,w as M,D as T,d as Y,o as g,y as $}from"./vendor.05df324e.js";import{s as z}from"./button.esm.cbb15c31.js";import{s as G}from"./message.esm.2b7d3da1.js";import{s as r}from"./inputtext.esm.b08d2117.js";import H from"./AcaciaDatepicker.a37d4862.js";import"./ripple.esm.574b991d.js";import"./vue-flatpickr.min.87ca1928.js";import"./plugin-vue_export-helper.21dcd24c.js";const L=["onSubmit"],P={class:""},R={class:"my-2"},q=t("label",null,"Table Name",-1),I={class:"my-2"},J=t("label",null,"Model Class",-1),K={class:"my-2"},O=t("label",null,"Controller Class",-1),Q={class:"my-2"},W=t("label",null,"Default Label Column",-1),X={class:"my-2"},Z=t("label",null,"Route Name",-1),ee={class:"my-2"},le=t("label",null,"Generated At",-1),se={class:"text-right min-w-[300px] pt-2 border-t-2"},ae=$("You are not authorized to perform this action"),oe=h({name:"SchematicEditForm"}),_e=h(y(f({},oe),{props:{model:{}},emits:["updated","error"],setup(u,{emit:s}){const n=u,p=A(()=>{var a,e;return(e=(a=T().props)==null?void 0:a.value)==null?void 0:e.flash});k([]),k(!1);const b=B(),_=n.model,d=N(f({},_)),w=async()=>{d.put(Y("acacia.g-panel.acacia-schematics.update",_),{onSuccess:a=>{var m;const e=a.props.flash;b.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const i=(m=p.value)==null?void 0:m.payload;s("updated",{payload:i})},onError:a=>{var m,o;let e=((m=p.value)==null?void 0:m.error)||(a==null?void 0:a.message)||(a==null?void 0:a.error)||a||"A server error occurred.";b.add({severity:"error",summary:"Error",detail:e,life:3e3});const i=(o=p.value)==null?void 0:o.payload;s("error",{payload:i,message:e})},onFinish:a=>{}})};return(a,e)=>{var i,m;return((m=(i=l(_))==null?void 0:i.can)==null?void 0:m.update)?(g(),D("form",{key:0,onSubmit:E(w,["prevent"])},[t("div",P,[t("div",R,[q,c(l(r),{class:"block w-full",modelValue:l(d).table_name,"onUpdate:modelValue":e[0]||(e[0]=o=>l(d).table_name=o)},null,8,["modelValue"])]),t("div",I,[J,c(l(r),{class:"block w-full",modelValue:l(d).model_class,"onUpdate:modelValue":e[1]||(e[1]=o=>l(d).model_class=o)},null,8,["modelValue"])]),t("div",K,[O,c(l(r),{class:"block w-full",modelValue:l(d).controller_class,"onUpdate:modelValue":e[2]||(e[2]=o=>l(d).controller_class=o)},null,8,["modelValue"])]),t("div",Q,[W,c(l(r),{class:"block w-full",modelValue:l(d).default_label_column,"onUpdate:modelValue":e[3]||(e[3]=o=>l(d).default_label_column=o)},null,8,["modelValue"])]),t("div",X,[Z,c(l(r),{class:"block w-full",modelValue:l(d).route_name,"onUpdate:modelValue":e[4]||(e[4]=o=>l(d).route_name=o)},null,8,["modelValue"])]),t("div",ee,[le,c(H,{modelValue:l(d).generated_at,"onUpdate:modelValue":e[5]||(e[5]=o=>l(d).generated_at=o),class:"block w-full","data-disable-mobile":!0,"data-date-format":"Y-m-d H:i","data-enable-time":!0},null,8,["modelValue"])])]),t("div",se,[c(l(z),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,L)):(g(),F(l(G),{key:1,severity:"error"},{default:M(()=>[ae]),_:1}))}}}));export{_e as default};
