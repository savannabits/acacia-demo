var N=Object.defineProperty,S=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var w=(d,a,t)=>a in d?N(d,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[a]=t,v=(d,a)=>{for(var t in a||(a={}))C.call(a,t)&&w(d,t,a[t]);if(k)for(var t of k(a))D.call(a,t)&&w(d,t,a[t]);return d},g=(d,a)=>S(d,$(a));import{e as j,A as F,p as x,g as R,u as T,m as e,v as A,w as _,D as M,o as h,j as n,i as P,k as l,B as Y,s as z,y as B,d as H}from"./vendor.05df324e.js";import{s as I}from"./button.esm.cbb15c31.js";import{s as q}from"./message.esm.2b7d3da1.js";import{s as G,a as E}from"./tabpanel.esm.0a9d5bce.js";import{s as f}from"./inputtext.esm.b08d2117.js";import J from"./AcaciaDatepicker.a37d4862.js";import"./ripple.esm.574b991d.js";import"./vue-flatpickr.min.87ca1928.js";import"./plugin-vue_export-helper.21dcd24c.js";const K=["onSubmit"],L={class:""},O={class:"my-2"},Q=l("label",null,"Name",-1),W={class:"my-2"},X=l("label",null,"Email",-1),Z={class:"my-2"},ee=l("label",null,"Email Verified At",-1),se={class:"my-2"},ae=l("label",null,"Password",-1),oe={class:"my-2"},te=l("label",null,"Remember Token",-1),le={class:"text-right min-w-[300px] pt-2 border-t-2"},de=B(" Assign Roles "),ie=B("You are not authorized to perform this action"),me=j({name:"UserEditForm"}),ye=j(g(v({},me),{props:{model:{}},emits:["updated","error"],setup(d,{emit:a}){const t=d,b=F(()=>{var o,s;return(s=(o=M().props)==null?void 0:o.value)==null?void 0:s.flash});x([]),x(!1);const y=R(),p=t.model,i=T(v({},p)),U=async()=>{i.put(H("acacia.auth.users.update",p),{onSuccess:o=>{var r;const s=o.props.flash;y.add({severity:"success",summary:"Success",detail:s==null?void 0:s.success,life:2e3});const u=(r=b.value)==null?void 0:r.payload;a("updated",{payload:u})},onError:o=>{var r,c;let s=((r=b.value)==null?void 0:r.error)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||o||"A server error occurred.";y.add({severity:"error",summary:"Error",detail:s,life:3e3});const u=(c=b.value)==null?void 0:c.payload;a("error",{payload:u,message:s})},onFinish:o=>{}})};return(o,s)=>{var u,r;return((r=(u=e(p))==null?void 0:u.can)==null?void 0:r.view)?(h(),A(e(G),{key:0},{default:_(()=>[n(e(E),{header:"Basic Info"},{default:_(()=>{var c,V;return[((V=(c=e(p))==null?void 0:c.can)==null?void 0:V.update)?(h(),P("form",{key:0,onSubmit:Y(U,["prevent"])},[l("div",L,[l("div",O,[Q,n(e(f),{class:"block w-full",modelValue:e(i).name,"onUpdate:modelValue":s[0]||(s[0]=m=>e(i).name=m)},null,8,["modelValue"])]),l("div",W,[X,n(e(f),{class:"block w-full",modelValue:e(i).email,"onUpdate:modelValue":s[1]||(s[1]=m=>e(i).email=m)},null,8,["modelValue"])]),l("div",Z,[ee,n(J,{modelValue:e(i).email_verified_at,"onUpdate:modelValue":s[2]||(s[2]=m=>e(i).email_verified_at=m),class:"block w-full","data-disable-mobile":!0,"data-date-format":"Y-m-d H:i","data-enable-time":!0},null,8,["modelValue"])]),l("div",se,[ae,n(e(f),{class:"block w-full",modelValue:e(i).password,"onUpdate:modelValue":s[3]||(s[3]=m=>e(i).password=m)},null,8,["modelValue"])]),l("div",oe,[te,n(e(f),{class:"block w-full",modelValue:e(i).remember_token,"onUpdate:modelValue":s[4]||(s[4]=m=>e(i).remember_token=m)},null,8,["modelValue"])])]),l("div",le,[n(e(I),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,K)):z("",!0)]}),_:1}),n(e(E),{header:"Assign Roles"},{default:_(()=>[de]),_:1})]),_:1})):(h(),A(e(q),{key:1,severity:"error"},{default:_(()=>[ie]),_:1}))}}}));export{ye as default};
