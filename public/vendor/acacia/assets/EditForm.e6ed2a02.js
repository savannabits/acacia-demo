var g=Object.defineProperty,S=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var b=(u,a,n)=>a in u?g(u,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[a]=n,V=(u,a)=>{for(var n in a||(a={}))P.call(a,n)&&b(u,n,a[n]);if(v)for(var n of v(a))A.call(a,n)&&b(u,n,a[n]);return u},y=(u,a)=>S(u,N(a));import{d as U,s as B,j as h,b as E,u as M,g as l,c as C,f as s,e as i,p as F,h as k,v as T,n as $,w as z,x as R,o as w,q as j}from"./main.9e765f7d.js";import{s as q}from"./button.esm.a5ac1061.js";import{s as D}from"./message.esm.a16f09f2.js";import{s as m}from"./inputtext.esm.dc0f2264.js";import{s as I}from"./inputswitch.esm.90fe6344.js";import Y from"./AcaciaRichSelect.1af0e202.js";import"./ripple.esm.1fe20658.js";import"./vue-select.c5557806.js";import"./plugin-vue_export-helper.21dcd24c.js";const G=["onSubmit"],H={class:""},J={class:"my-2"},K=s("label",null,"Title",-1),L={class:"my-2"},O=s("label",null,"Icon",-1),Q={class:"my-2"},W=s("label",null,"Route",-1),X={class:"my-2"},Z=s("label",null,"Url",-1),ll={class:"my-2"},el=s("label",null,"Active Pattern",-1),ol={class:"my-2"},sl=s("label",null,"Position",-1),tl={class:"my-2"},al=s("label",null,"Permission Name",-1),dl={class:"my-2"},nl=s("label",null,"Module Name",-1),il={class:"my-2"},ul=s("label",null,"Description",-1),ml={class:"my-2 flex items-center flex-wrap gap-x-2"},cl=s("label",null,"Active",-1),rl={class:"my-2"},pl=s("label",null,"Parent",-1),_l={class:"text-right min-w-[300px] pt-2 border-t-2"},Vl=j("You are not authorized to perform this action"),fl=U({name:"MenuEditForm"}),Nl=U(y(V({},fl),{props:{model:{}},emits:["updated","error"],setup(u,{emit:a}){const n=u,p=B(()=>{var d,e;return(e=(d=R().props)==null?void 0:d.value)==null?void 0:e.flash});h([]),h(!1);const f=E(),_=n.model,t=M(V({},_)),x=async()=>{t.put(k("acacia.g-panel.acacia-menus.update",_),{onSuccess:d=>{var c;const e=d.props.flash;f.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const r=(c=p.value)==null?void 0:c.payload;a("updated",{payload:r})},onError:d=>{var c,o;let e=((c=p.value)==null?void 0:c.error)||(d==null?void 0:d.message)||(d==null?void 0:d.error)||d||"A server error occurred.";f.add({severity:"error",summary:"Error",detail:e,life:3e3});const r=(o=p.value)==null?void 0:o.payload;a("error",{payload:r,message:e})},onFinish:d=>{}})};return(d,e)=>{var r,c;return(c=(r=l(_))==null?void 0:r.can)!=null&&c.update?(w(),C("form",{key:0,onSubmit:T(x,["prevent"])},[s("div",H,[s("div",J,[K,i(l(m),{class:"block w-full",modelValue:l(t).title,"onUpdate:modelValue":e[0]||(e[0]=o=>l(t).title=o)},null,8,["modelValue"])]),s("div",L,[O,i(l(m),{class:"block w-full",modelValue:l(t).icon,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).icon=o)},null,8,["modelValue"])]),s("div",Q,[W,i(l(m),{class:"block w-full",modelValue:l(t).route,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).route=o)},null,8,["modelValue"])]),s("div",X,[Z,i(l(m),{class:"block w-full",modelValue:l(t).url,"onUpdate:modelValue":e[3]||(e[3]=o=>l(t).url=o)},null,8,["modelValue"])]),s("div",ll,[el,i(l(m),{class:"block w-full",modelValue:l(t).active_pattern,"onUpdate:modelValue":e[4]||(e[4]=o=>l(t).active_pattern=o)},null,8,["modelValue"])]),s("div",ol,[sl,i(l(m),{class:"block w-full",modelValue:l(t).position,"onUpdate:modelValue":e[5]||(e[5]=o=>l(t).position=o)},null,8,["modelValue"])]),s("div",tl,[al,i(l(m),{class:"block w-full",modelValue:l(t).permission_name,"onUpdate:modelValue":e[6]||(e[6]=o=>l(t).permission_name=o)},null,8,["modelValue"])]),s("div",dl,[nl,i(l(m),{class:"block w-full",modelValue:l(t).module_name,"onUpdate:modelValue":e[7]||(e[7]=o=>l(t).module_name=o)},null,8,["modelValue"])]),s("div",il,[ul,i(l(m),{class:"block w-full",modelValue:l(t).description,"onUpdate:modelValue":e[8]||(e[8]=o=>l(t).description=o)},null,8,["modelValue"])]),s("div",ml,[cl,i(l(I),{class:"block",modelValue:l(t).active,"onUpdate:modelValue":e[9]||(e[9]=o=>l(t).active=o)},null,8,["modelValue"])]),s("div",rl,[pl,i(Y,{modelValue:l(t).parent,"onUpdate:modelValue":e[10]||(e[10]=o=>l(t).parent=o),class:F("block w-full"),"api-url":l(k)("api.v1.acacia-menus.index"),label:"title"},null,8,["modelValue","api-url"])])]),s("div",_l,[i(l(q),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,G)):(w(),$(l(D),{key:1,severity:"error"},{default:z(()=>[Vl]),_:1}))}}}));export{Nl as default};
