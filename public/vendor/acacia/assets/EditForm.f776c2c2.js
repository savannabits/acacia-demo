var w=Object.defineProperty,j=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var v=(l,s,a)=>s in l?w(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a,f=(l,s)=>{for(var a in s||(s={}))B.call(s,a)&&v(l,a,s[a]);if(b)for(var a of b(s))A.call(s,a)&&v(l,a,s[a]);return l},y=(l,s)=>j(l,S(s));import{e as h,A as E,p as V,g as N,u as U,m as t,i as $,k as i,j as u,B as F,v as T,w as z,D as C,d as D,o as k,y as M}from"./vendor.05df324e.js";import{s as P}from"./button.esm.cbb15c31.js";import{s as R}from"./message.esm.2b7d3da1.js";import{s as g}from"./inputtext.esm.b08d2117.js";import{s as Y}from"./textarea.esm.b60c054e.js";import{s as q}from"./inputswitch.esm.f0cf91c0.js";import"./ripple.esm.574b991d.js";const G=["onSubmit"],H={class:""},I={class:"my-2"},J=i("label",null,"Slug",-1),K={class:"my-2"},L=i("label",null,"Name",-1),O={class:"my-2"},Q=i("label",null,"Description",-1),W={class:"my-2 flex items-center flex-wrap gap-x-2"},X=i("label",null,"Active",-1),Z={class:"text-right min-w-[300px] pt-2 border-t-2"},ee=M("You are not authorized to perform this action"),se=h({name:"AlbumTypeEditForm"}),me=h(y(f({},se),{props:{model:{}},emits:["updated","error"],setup(l,{emit:s}){const a=l,r=E(()=>{var o,e;return(e=(o=C().props)==null?void 0:o.value)==null?void 0:e.flash});V([]),V(!1);const _=N(),p=a.model,c=U(f({},p)),x=async()=>{c.put(D("acacia.backend.album-types.update",p),{onSuccess:o=>{var n;const e=o.props.flash;_.add({severity:"success",summary:"Success",detail:e==null?void 0:e.success,life:2e3});const m=(n=r.value)==null?void 0:n.payload;s("updated",{payload:m})},onError:o=>{var n,d;let e=((n=r.value)==null?void 0:n.error)||(o==null?void 0:o.message)||(o==null?void 0:o.error)||o||"A server error occurred.";_.add({severity:"error",summary:"Error",detail:e,life:3e3});const m=(d=r.value)==null?void 0:d.payload;s("error",{payload:m,message:e})},onFinish:o=>{}})};return(o,e)=>{var m,n;return((n=(m=t(p))==null?void 0:m.can)==null?void 0:n.update)?(k(),$("form",{key:0,onSubmit:F(x,["prevent"])},[i("div",H,[i("div",I,[J,u(t(g),{class:"block w-full",modelValue:t(c).slug,"onUpdate:modelValue":e[0]||(e[0]=d=>t(c).slug=d)},null,8,["modelValue"])]),i("div",K,[L,u(t(g),{class:"block w-full",modelValue:t(c).name,"onUpdate:modelValue":e[1]||(e[1]=d=>t(c).name=d)},null,8,["modelValue"])]),i("div",O,[Q,u(t(Y),{modelValue:t(c).description,"onUpdate:modelValue":e[2]||(e[2]=d=>t(c).description=d),class:"block w-full",autoResize:!0,rows:"5",cols:"30"},null,8,["modelValue"])]),i("div",W,[X,u(t(q),{class:"block",modelValue:t(c).active,"onUpdate:modelValue":e[3]||(e[3]=d=>t(c).active=d)},null,8,["modelValue"])])]),i("div",Z,[u(t(P),{type:"submit",icon:"pi pi-check",label:"Save"})])],40,G)):(k(),T(t(R),{key:1,severity:"error"},{default:z(()=>[ee]),_:1}))}}}));export{me as default};
