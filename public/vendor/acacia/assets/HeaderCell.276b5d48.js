import{aa as d,a5 as u,i as s,s as a,v as h,Q as p,z as c,x as m,an as f,o as i}from"./vendor.05df324e.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const g={name:"HeaderCell",emits:["column-click","column-resizestart"],props:{column:{type:Object,default:null},resizableColumns:{type:Boolean,default:!1},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return d.getVNodeProp(this.column,e)},updateStickyPosition(){if(this.columnProp("frozen")){if(this.columnProp("alignFrozen")==="right"){let l=0,o=this.$el.nextElementSibling;o&&(l=u.getOuterWidth(o)+parseFloat(o.style.right||0)),this.styleObject.right=l+"px"}else{let l=0,o=this.$el.previousElementSibling;o&&(l=u.getOuterWidth(o)+parseFloat(o.style.left||0)),this.styleObject.left=l+"px"}let t=this.$el.parentElement.nextElementSibling;if(t){let l=u.index(this.$el);t.children[l].style.left=this.styleObject.left,t.children[l].style.right=this.styleObject.right}}},onClick(e){this.$emit("column-click",{originalEvent:e,column:this.column})},onKeyDown(e){e.which===13&&e.currentTarget.nodeName==="TH"&&u.hasClass(e.currentTarget,"p-sortable-column")&&this.$emit("column-click",{originalEvent:e,column:this.column})},onResizeStart(e){this.$emit("column-resizestart",e)},getMultiSortMetaIndex(){let e=-1;for(let t=0;t<this.multiSortMeta.length;t++){let l=this.multiSortMeta[t];if(l.field===this.columnProp("field")||l.field===this.columnProp("sortField")){e=t;break}}return e},isMultiSorted(){return this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()}},computed:{containerClass(){return[this.columnProp("headerClass"),this.columnProp("class"),{"p-sortable-column":this.columnProp("sortable"),"p-resizable-column":this.resizableColumns,"p-highlight":this.isColumnSorted(),"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("headerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},sortableColumnIcon(){let e=!1,t=null;if(this.sortMode==="single")e=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),t=e?this.sortOrder:0;else if(this.sortMode==="multiple"){let l=this.getMultiSortMetaIndex();l>-1&&(e=!0,t=this.multiSortMeta[l].order)}return["p-sortable-column-icon pi pi-fw",{"pi-sort-alt":!e,"pi-sort-amount-up-alt":e&&t>0,"pi-sort-amount-down":e&&t<0}]},ariaSort(){if(this.columnProp("sortable")){const e=this.sortableColumnIcon;return e[1]["pi-sort-amount-down"]?"descending":e[1]["pi-sort-amount-up-alt"]?"ascending":"none"}else return null}}},S=["tabindex","aria-sort"],b={key:2,class:"p-column-title"},P={key:4,class:"p-sortable-column-badge"};function z(e,t,l,o,C,r){return i(),s("th",{style:f([r.containerStyle]),class:m(r.containerClass),onClick:t[1]||(t[1]=(...n)=>r.onClick&&r.onClick(...n)),onKeydown:t[2]||(t[2]=(...n)=>r.onKeyDown&&r.onKeyDown(...n)),tabindex:r.columnProp("sortable")?"0":null,"aria-sort":r.ariaSort},[l.resizableColumns&&!r.columnProp("frozen")?(i(),s("span",{key:0,class:"p-column-resizer",onMousedown:t[0]||(t[0]=(...n)=>r.onResizeStart&&r.onResizeStart(...n))},null,32)):a("",!0),l.column.children&&l.column.children.header?(i(),h(p(l.column.children.header),{key:1,column:l.column},null,8,["column"])):a("",!0),r.columnProp("header")?(i(),s("span",b,c(r.columnProp("header")),1)):a("",!0),r.columnProp("sortable")?(i(),s("span",{key:3,class:m(r.sortableColumnIcon)},null,2)):a("",!0),r.isMultiSorted()?(i(),s("span",P,c(r.getMultiSortMetaIndex()+1),1)):a("",!0)],46,S)}var k=y(g,[["render",z]]);export{k as default};
