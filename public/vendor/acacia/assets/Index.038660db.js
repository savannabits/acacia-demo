var K=Object.defineProperty,W=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var T=(d,l,n)=>l in d?K(d,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[l]=n,E=(d,l)=>{for(var n in l||(l={}))Q.call(l,n)&&T(d,n,l[n]);if(U)for(var n of U(l))X.call(l,n)&&T(d,n,l[n]);return d},O=(d,l)=>W(d,J(l));import{e as P,d as y,p,f as Z,g as ee,i as te,j as i,w as o,m as t,a6 as ae,F as se,o as c,k as m,v as f,s as k,z as ie,x as oe,a7 as le,y as ne,Y,a as z}from"./vendor.05df324e.js";import re from"./Backend.6e087c50.js";import de from"./PrimeDatatables.06075155.js";import{s as v}from"./column.esm.cc8b8b77.js";import{s as b}from"./button.esm.cbb15c31.js";import{s as pe}from"./contextmenu.esm.552fe433.js";import{s as A}from"./badge.esm.5ac8bf49.js";import{d as ce}from"./dayjs.min.2d765ffc.js";import{s as M}from"./dialog.esm.7f94084b.js";import me from"./CreateForm.e058e0ad.js";import ue from"./EditForm.bcb9a602.js";import fe from"./ShowForm.9495c8eb.js";import{s as ve}from"./message.esm.2b7d3da1.js";import"./Sidebar.9fa42cf7.js";import"./SidebarLinkGroup.631e5e48.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Header.f4796df8.js";import"./ModalSearch.0fe5a03a.js";import"./DropdownNotifications.8ff848f9.js";import"./DropdownHelp.ee3a80f5.js";import"./DropdownProfile.b6a2cd02.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.e6597c05.js";import"./DashboardAvatars.03cd71bc.js";import"./DropdownFilter.d3d0573f.js";import"./Datepicker.0a132f4e.js";import"./vue-flatpickr.min.87ca1928.js";import"./SidebarLink.e30e4992.js";import"./confirmdialog.esm.5be0612a.js";import"./ripple.esm.574b991d.js";import"./SidebarParentLink.acf5cc4a.js";import"./inputtext.esm.b08d2117.js";import"./datatable.esm.6e02ebef.js";import"./paginator.esm.ff35b289.js";import"./dropdown.esm.573df5c1.js";import"./overlayeventbus.esm.d529c5a8.js";import"./virtualscroller.esm.adfef9da.js";import"./inputnumber.esm.f09ada2c.js";import"./textarea.esm.b60c054e.js";import"./inputswitch.esm.f0cf91c0.js";import"./AcaciaRichSelect.d07900f6.js";import"./tag.esm.ade7af22.js";import"./AcaciaDd.922ceb07.js";const be=m("title",null,"Fields",-1),je=m("h4",{class:"font-black text-2xl px-1 md:px-4"},"Fields",-1),xe={class:"mx-auto flex container items-center justify-center mt-4"},ye={class:"rounded w-full p-2 bg-white"},he={class:"flex flex-wrap items-center justify-end gap-2"},_e=ne("You are not authorized to access this content"),ke=m("h4",{class:"font-black text-xl"},"New Field",-1),we=m("h4",{class:"font-black text-xl"},"Field Details",-1),ge=m("h4",{class:"font-black text-xl"},"Edit Single Field",-1),Ce=P({name:"FieldsIndex"}),bt=P(O(E({},Ce),{setup(d){const l=y("api.v1.acacia-fields.dt"),n="fields-dt",H=p(["id","title","name","description","db_type","html_type","is_vue","has_options","is_guarded","is_hidden","in_form","in_list","options_route_name","options_label_field","created_at","updated_at"]),w=p(null),g=p(),C=p([]),R=Z(),S=ee(),F=p(null),j=p(!1),x=p(!1),h=p(!1),r=p(null),B=s=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await N(s),h.value=!0},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await N(s),x.value=!0},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{R.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>I(s)})},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.delete}}],N=async s=>{z.get(y("api.v1.acacia-fields.show",s)).then(e=>{var u;r.value=(u=e.data)==null?void 0:u.payload}).catch(e=>{console.error(e),r.value=null})},$=()=>{F.value=new Date().toUTCString()},V=async(s,e)=>{C.value=B(e),await Y(),g.value.show(s)},L=async s=>{C.value=B(s.data),await Y(),g.value.show(s.originalEvent)},I=async function(s){var e,u,_;try{const a=await z.delete(y("api.v1.acacia-fields.destroy",s));S.add({severity:"success",detail:a.data.message,life:3e3}),$()}catch(a){console.log(a);const D=((u=(e=a==null?void 0:a.response)==null?void 0:e.data)==null?void 0:u.message)||((_=a==null?void 0:a.data)==null?void 0:_.message)||(a==null?void 0:a.message)||a||"Server error";S.add({severity:"error",detail:D,summary:"Server Error",life:1e4})}},q=s=>{j.value=!1,$()},G=s=>{x.value=!1,$()};return(s,e)=>(c(),te(se,null,[i(t(ae),null,{default:o(()=>[be]),_:1}),i(re,null,{header:o(()=>[je]),default:o(()=>{var u,_;return[m("div",xe,[m("div",ye,[m("div",he,[((u=s.$page.props.can)==null?void 0:u.create)?(c(),f(t(b),{key:0,onClick:e[0]||(e[0]=a=>j.value=!0),"aria-label":"New Comment",label:"New Field",icon:"pi pi-plus"})):k("",!0)]),((_=s.$page.props.can)==null?void 0:_.viewAny)?(c(),f(de,{key:0,apiUrl:t(l),columnFilters:{},searchableColumns:H.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:t(w),"onUpdate:contextMenuSelection":e[1]||(e[1]=a=>le(w)?w.value=a:null),onRowContextmenu:L,rowHover:!0,refresh:t(F)},{default:o(()=>[i(t(v),{field:"schematic.model_class",header:"Model",sortable:!0}),i(t(v),{field:"name",header:"DB Column",sortable:!0}),i(t(v),{field:"title",header:"Title",sortable:!0}),i(t(v),{field:"db_type",header:"DB Type",sortable:!0}),i(t(v),{field:"html_type",header:"Html Type",sortable:!0}),i(t(v),{field:"in_form",header:"In Form",sortable:!0},{body:o(({data:a})=>[a.in_form?(c(),f(t(A),{key:0,severity:"success",value:"YES"})):(c(),f(t(A),{key:1,severity:"danger",value:"NO"}))]),_:1}),i(t(v),{field:"created_at",header:"Created At",sortable:!0},{body:o(({data:a})=>[m("span",null,ie(a.created_at?t(ce)(a.created_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),i(t(v),null,{body:o(a=>[i(t(b),{class:oe(["","p-button-text"]),onClick:D=>V(D,a.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(c(),f(t(ve),{key:1,severity:"error"},{default:o(()=>[_e]),_:1}))])]),i(t(pe),{ref_key:"contextMenu",ref:g,model:t(C)},null,8,["model"]),i(t(M),{position:"top",maximizable:!0,visible:j.value,"onUpdate:visible":e[4]||(e[4]=a=>j.value=a),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:o(()=>[ke]),footer:o(()=>[i(t(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=a=>s.$inertia.visit(t(y)("acacia.g-panel.acacia-fields.create"))),class:"p-button-text"}),i(t(b),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=a=>j.value=!1),class:"p-button-text"})]),default:o(()=>[j.value?(c(),f(me,{key:0,onCreated:q})):k("",!0)]),_:1},8,["visible"]),i(t(M),{position:"top",maximizable:!0,visible:h.value,"onUpdate:visible":e[7]||(e[7]=a=>h.value=a),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:o(()=>[we]),footer:o(()=>[i(t(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=a=>s.$inertia.visit(t(y)("acacia.g-panel.acacia-fields.show",t(r)))),class:"p-button-text"}),i(t(b),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=a=>(h.value=!1,r.value=null)),class:"p-button-text"})]),default:o(()=>[h.value&&t(r)?(c(),f(fe,{key:0,model:t(r)},null,8,["model"])):k("",!0)]),_:1},8,["visible"]),i(t(M),{position:"top",maximizable:!0,visible:x.value,"onUpdate:visible":e[10]||(e[10]=a=>x.value=a),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:o(()=>[ge]),footer:o(()=>[i(t(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=a=>s.$inertia.visit(t(y)("acacia.g-panel.acacia-fields.edit",t(r)))),class:"p-button-text"}),i(t(b),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=a=>(x.value=!1,r.value=null)),class:"p-button-text"})]),default:o(()=>[x.value&&t(r)?(c(),f(ue,{key:0,model:t(r),onUpdated:G},null,8,["model"])):k("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{bt as default};
