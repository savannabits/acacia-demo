var J=Object.defineProperty,L=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var O=(p,s,n)=>s in p?J(p,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[s]=n,E=(p,s)=>{for(var n in s||(s={}))W.call(s,n)&&O(p,n,s[n]);if(B)for(var n of B(s))X.call(s,n)&&O(p,n,s[n]);return p},Y=(p,s)=>L(p,Q(s));import{d as V,h as _,j as d,a as Z,b as ee,c as te,e as o,w as l,g as t,_ as ae,F as ie,o as m,f as c,n as f,l as w,t as oe,p as le,$ as se,q as ne,M as z,a0 as j}from"./main.9e765f7d.js";import re from"./Backend.d947867c.js";import pe from"./PrimeDatatables.0582f2ad.js";import{s as v}from"./column.esm.6c61d2a3.js";import{s as b}from"./button.esm.a5ac1061.js";import{s as de}from"./contextmenu.esm.bb623b07.js";import{s as P}from"./badge.esm.294925a2.js";import{d as me}from"./dayjs.min.ae3816ac.js";import{s as D}from"./dialog.esm.20a296d3.js";import ce from"./CreateForm.fae40451.js";import ue from"./EditForm.525f100e.js";import fe from"./ShowForm.22cbe299.js";import{s as ve}from"./message.esm.a16f09f2.js";import"./Sidebar.485bfd5b.js";import"./SidebarLinkGroup.cb8761b1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Logo.bf84026c.js";import"./Header.61e29fbc.js";import"./ModalSearch.ed130d60.js";import"./DropdownNotifications.e398f91c.js";import"./DropdownHelp.9bd762b4.js";import"./DropdownProfile.a72bb30f.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.76c639d8.js";import"./DashboardAvatars.8beba91a.js";import"./DropdownFilter.676b5b1f.js";import"./Datepicker.e4af13a9.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./SidebarLink.20e5744c.js";import"./confirmdialog.esm.f379260d.js";import"./ripple.esm.1fe20658.js";import"./SidebarParentLink.898a9f6e.js";import"./inputtext.esm.dc0f2264.js";import"./datatable.esm.3689bee8.js";import"./paginator.esm.d428c35b.js";import"./dropdown.esm.5bafa883.js";import"./overlayeventbus.esm.ef5cc0da.js";import"./virtualscroller.esm.76cd2139.js";import"./inputnumber.esm.2f528c5c.js";import"./textarea.esm.a52171b9.js";import"./inputswitch.esm.90fe6344.js";import"./AcaciaRichSelect.1af0e202.js";import"./vue-select.c5557806.js";import"./tag.esm.e2e26d3d.js";import"./AcaciaDd.0fbaa96e.js";const be=c("title",null,"Fields",-1),ye=c("h4",{class:"font-black text-2xl px-1 md:px-4"},"Fields",-1),xe={class:"mx-auto flex container items-center justify-center mt-4"},_e={class:"rounded w-full p-2 bg-white"},he={class:"flex flex-wrap items-center justify-end gap-2"},ke=ne("You are not authorized to access this content"),we=c("h4",{class:"font-black text-xl"},"New Field",-1),ge=c("h4",{class:"font-black text-xl"},"Field Details",-1),Ce=c("h4",{class:"font-black text-xl"},"Edit Single Field",-1),$e=V({name:"FieldsIndex"}),xt=V(Y(E({},$e),{setup(p){const s=_("api.v1.acacia-fields.dt"),n="fields-dt",A=d(["id","title","name","description","db_type","html_type","is_vue","has_options","is_guarded","is_hidden","in_form","in_list","options_route_name","options_label_field","created_at","updated_at"]),g=d(null),C=d(),$=d([]),R=Z(),S=ee(),U=d(null),y=d(!1),x=d(!1),h=d(!1),r=d(null),N=i=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await T(i),h.value=!0},visible:()=>{var e;return(e=i==null?void 0:i.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await T(i),x.value=!0},visible:()=>{var e;return(e=i==null?void 0:i.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{R.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>I(i)})},visible:()=>{var e;return(e=i==null?void 0:i.can)==null?void 0:e.delete}}],T=async i=>{j.get(_("api.v1.acacia-fields.show",i)).then(e=>{var u;r.value=(u=e.data)==null?void 0:u.payload}).catch(e=>{console.error(e),r.value=null})},M=()=>{U.value=new Date().toUTCString()},q=async(i,e)=>{$.value=N(e),await z(),C.value.show(i)},H=async i=>{$.value=N(i.data),await z(),C.value.show(i.originalEvent)},I=async function(i){var e,u,k;try{const a=await j.delete(_("api.v1.acacia-fields.destroy",i));S.add({severity:"success",detail:a.data.message,life:3e3}),M()}catch(a){console.log(a);const F=((u=(e=a==null?void 0:a.response)==null?void 0:e.data)==null?void 0:u.message)||((k=a==null?void 0:a.data)==null?void 0:k.message)||(a==null?void 0:a.message)||a||"Server error";S.add({severity:"error",detail:F,summary:"Server Error",life:1e4})}},K=i=>{y.value=!1,M()},G=i=>{x.value=!1,M()};return(i,e)=>(m(),te(ie,null,[o(t(ae),null,{default:l(()=>[be]),_:1}),o(re,null,{header:l(()=>[ye]),default:l(()=>{var u,k;return[c("div",xe,[c("div",_e,[c("div",he,[(u=i.$page.props.can)!=null&&u.create?(m(),f(t(b),{key:0,onClick:e[0]||(e[0]=a=>y.value=!0),"aria-label":"New Comment",label:"New Field",icon:"pi pi-plus"})):w("",!0)]),(k=i.$page.props.can)!=null&&k.viewAny?(m(),f(pe,{key:0,apiUrl:t(s),columnFilters:{},searchableColumns:A.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:t(g),"onUpdate:contextMenuSelection":e[1]||(e[1]=a=>se(g)?g.value=a:null),onRowContextmenu:H,rowHover:!0,refresh:t(U)},{default:l(()=>[o(t(v),{field:"schematic.model_class",header:"Model",sortable:!0}),o(t(v),{field:"name",header:"DB Column",sortable:!0}),o(t(v),{field:"title",header:"Title",sortable:!0}),o(t(v),{field:"db_type",header:"DB Type",sortable:!0}),o(t(v),{field:"html_type",header:"Html Type",sortable:!0}),o(t(v),{field:"in_form",header:"In Form",sortable:!0},{body:l(({data:a})=>[a.in_form?(m(),f(t(P),{key:0,severity:"success",value:"YES"})):(m(),f(t(P),{key:1,severity:"danger",value:"NO"}))]),_:1}),o(t(v),{field:"created_at",header:"Created At",sortable:!0},{body:l(({data:a})=>[c("span",null,oe(a.created_at?t(me)(a.created_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),o(t(v),null,{body:l(a=>[o(t(b),{class:le(["","p-button-text"]),onClick:F=>q(F,a.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(m(),f(t(ve),{key:1,severity:"error"},{default:l(()=>[ke]),_:1}))])]),o(t(de),{ref_key:"contextMenu",ref:C,model:t($)},null,8,["model"]),o(t(D),{position:"top",maximizable:!0,visible:y.value,"onUpdate:visible":e[4]||(e[4]=a=>y.value=a),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:l(()=>[we]),footer:l(()=>[o(t(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=a=>i.$inertia.visit(t(_)("acacia.g-panel.acacia-fields.create"))),class:"p-button-text"}),o(t(b),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=a=>y.value=!1),class:"p-button-text"})]),default:l(()=>[y.value?(m(),f(ce,{key:0,onCreated:K})):w("",!0)]),_:1},8,["visible"]),o(t(D),{position:"top",maximizable:!0,visible:h.value,"onUpdate:visible":e[7]||(e[7]=a=>h.value=a),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:l(()=>[ge]),footer:l(()=>[o(t(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=a=>i.$inertia.visit(t(_)("acacia.g-panel.acacia-fields.show",t(r)))),class:"p-button-text"}),o(t(b),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=a=>(h.value=!1,r.value=null)),class:"p-button-text"})]),default:l(()=>[h.value&&t(r)?(m(),f(fe,{key:0,model:t(r)},null,8,["model"])):w("",!0)]),_:1},8,["visible"]),o(t(D),{position:"top",maximizable:!0,visible:x.value,"onUpdate:visible":e[10]||(e[10]=a=>x.value=a),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:l(()=>[Ce]),footer:l(()=>[o(t(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=a=>i.$inertia.visit(t(_)("acacia.g-panel.acacia-fields.edit",t(r)))),class:"p-button-text"}),o(t(b),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=a=>(x.value=!1,r.value=null)),class:"p-button-text"})]),default:l(()=>[x.value&&t(r)?(m(),f(ue,{key:0,model:t(r),onUpdated:G},null,8,["model"])):w("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{xt as default};
