var Q=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var O=(p,i,n)=>i in p?Q(p,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[i]=n,E=(p,i)=>{for(var n in i||(i={}))Z.call(i,n)&&O(p,n,i[n]);if(N)for(var n of N(i))ee.call(i,n)&&O(p,n,i[n]);return p},z=(p,i)=>W(p,X(i));import{d as R,h,j as m,a as te,b as ae,c as le,e as s,w as o,g as a,_ as se,F as oe,o as d,f as u,n as v,l as g,t as B,p as ie,$ as ne,q as re,M as j,a0 as F}from"./main.9e765f7d.js";import pe from"./Backend.d947867c.js";import ue from"./PrimeDatatables.0582f2ad.js";import{s as f}from"./column.esm.6c61d2a3.js";import{s as b}from"./button.esm.a5ac1061.js";import{s as me}from"./contextmenu.esm.bb623b07.js";import{s as P}from"./badge.esm.294925a2.js";import{d as V}from"./dayjs.min.ae3816ac.js";import{s as T}from"./dialog.esm.20a296d3.js";import de from"./CreateForm.b4487c03.js";import ce from"./EditForm.a88edea2.js";import ve from"./ShowForm.ce58cdef.js";import{s as be}from"./message.esm.a16f09f2.js";import"./Sidebar.485bfd5b.js";import"./SidebarLinkGroup.cb8761b1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Logo.bf84026c.js";import"./Header.61e29fbc.js";import"./ModalSearch.ed130d60.js";import"./DropdownNotifications.e398f91c.js";import"./DropdownHelp.9bd762b4.js";import"./DropdownProfile.a72bb30f.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.76c639d8.js";import"./DashboardAvatars.8beba91a.js";import"./DropdownFilter.676b5b1f.js";import"./Datepicker.e4af13a9.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./SidebarLink.20e5744c.js";import"./confirmdialog.esm.f379260d.js";import"./ripple.esm.1fe20658.js";import"./SidebarParentLink.898a9f6e.js";import"./inputtext.esm.dc0f2264.js";import"./datatable.esm.3689bee8.js";import"./paginator.esm.d428c35b.js";import"./dropdown.esm.5bafa883.js";import"./overlayeventbus.esm.ef5cc0da.js";import"./virtualscroller.esm.76cd2139.js";import"./inputnumber.esm.2f528c5c.js";import"./textarea.esm.a52171b9.js";import"./inputswitch.esm.90fe6344.js";import"./tag.esm.e2e26d3d.js";import"./AcaciaDd.0fbaa96e.js";const fe=u("title",null,"Album Types",-1),ye=u("h4",{class:"font-black text-2xl px-1 md:px-4"},"Album Types",-1),xe={class:"mx-auto flex container items-center justify-center mt-4"},he={class:"rounded w-full p-2 bg-white"},ke={class:"flex mb-2 flex-wrap items-center justify-end gap-2"},we=re("You are not authorized to access this content"),ge=u("h4",{class:"font-black text-xl"},"New Album Type",-1),Ce=u("h4",{class:"font-black text-xl"},"Album Type Details",-1),_e=u("h4",{class:"font-black text-xl"},"Edit Single Album Type",-1),Me=R({name:"AlbumTypesIndex"}),ft=R(z(E({},Me),{setup(p){const i=h("api.v1.album-types.dt"),n="album-types-dt",q=m(["id","slug","name","active","created_at","updated_at"]),C=m(null),_=m(),M=m([]),I=te(),D=ae(),S=m(null),y=m(!1),x=m(!1),k=m(!1),r=m(null),U=l=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await Y(l),k.value=!0},visible:()=>{var e;return(e=l==null?void 0:l.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await Y(l),x.value=!0},visible:()=>{var e;return(e=l==null?void 0:l.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{I.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>G(l)})},visible:()=>{var e;return(e=l==null?void 0:l.can)==null?void 0:e.delete}}],Y=async l=>{F.get(h("api.v1.album-types.show",l)).then(e=>{var c;r.value=(c=e.data)==null?void 0:c.payload}).catch(e=>{console.error(e),r.value=null})},$=()=>{S.value=new Date().toUTCString()},H=async(l,e)=>{M.value=U(e),await j(),_.value.show(l)},K=async l=>{M.value=U(l.data),await j(),_.value.show(l.originalEvent)},G=async function(l){var e,c,w;try{const t=await F.delete(h("api.v1.album-types.destroy",l));D.add({severity:"success",detail:t.data.message,life:3e3}),$()}catch(t){console.log(t);const A=((c=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:c.message)||((w=t==null?void 0:t.data)==null?void 0:w.message)||(t==null?void 0:t.message)||t||"Server error";D.add({severity:"error",detail:A,summary:"Server Error",life:1e4})}},J=l=>{y.value=!1,$()},L=l=>{x.value=!1,$()};return(l,e)=>(d(),le(oe,null,[s(a(se),null,{default:o(()=>[fe]),_:1}),s(pe,null,{header:o(()=>[ye]),default:o(()=>{var c,w;return[u("div",xe,[u("div",he,[u("div",ke,[(c=l.$page.props.userCan)!=null&&c.createAlbumType?(d(),v(a(b),{key:0,onClick:e[0]||(e[0]=t=>y.value=!0),"aria-label":"New Album Type",label:"New Album Type",icon:"pi pi-plus"})):g("",!0)]),(w=l.$page.props.userCan)!=null&&w.viewAnyAlbumType?(d(),v(ue,{key:0,apiUrl:a(i),columnFilters:{},searchableColumns:q.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:a(C),"onUpdate:contextMenuSelection":e[1]||(e[1]=t=>ne(C)?C.value=t:null),onRowContextmenu:K,rowHover:!0,refresh:a(S)},{default:o(()=>[s(a(f),{field:"id",header:"Id",sortable:!0}),s(a(f),{field:"slug",header:"Slug",sortable:!0}),s(a(f),{field:"name",header:"Name",sortable:!0}),s(a(f),{field:"active",header:"Active",sortable:!0},{body:o(({data:t})=>[t.active?(d(),v(a(P),{key:0,severity:"success",value:"YES"})):(d(),v(a(P),{key:1,severity:"danger",value:"NO"}))]),_:1}),s(a(f),{field:"created_at",header:"Created At",sortable:!0},{body:o(({data:t})=>[u("span",null,B(t.created_at?a(V)(t.created_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),s(a(f),{field:"updated_at",header:"Updated At",sortable:!0},{body:o(({data:t})=>[u("span",null,B(t.updated_at?a(V)(t.updated_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),s(a(f),null,{body:o(t=>[s(a(b),{class:ie(["","p-button-text"]),onClick:A=>H(A,t.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(d(),v(a(be),{key:1,severity:"error"},{default:o(()=>[we]),_:1}))])]),s(a(me),{ref_key:"contextMenu",ref:_,model:a(M)},null,8,["model"]),s(a(T),{position:"top",maximizable:!0,visible:y.value,"onUpdate:visible":e[4]||(e[4]=t=>y.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"50vw"}},{header:o(()=>[ge]),footer:o(()=>[s(a(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=t=>l.$inertia.visit(a(h)("acacia.backend.album-types.create"))),class:"p-button-text"}),s(a(b),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=t=>y.value=!1),class:"p-button-text"})]),default:o(()=>[y.value?(d(),v(de,{key:0,onCreated:J})):g("",!0)]),_:1},8,["visible"]),s(a(T),{position:"top",maximizable:!0,visible:k.value,"onUpdate:visible":e[7]||(e[7]=t=>k.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"50vw"}},{header:o(()=>[Ce]),footer:o(()=>[s(a(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=t=>l.$inertia.visit(a(h)("acacia.backend.album-types.show",a(r)))),class:"p-button-text"}),s(a(b),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=t=>(k.value=!1,r.value=null)),class:"p-button-text"})]),default:o(()=>[k.value&&a(r)?(d(),v(ve,{key:0,model:a(r)},null,8,["model"])):g("",!0)]),_:1},8,["visible"]),s(a(T),{position:"top",maximizable:!0,visible:x.value,"onUpdate:visible":e[10]||(e[10]=t=>x.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"50vw"}},{header:o(()=>[_e]),footer:o(()=>[s(a(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=t=>l.$inertia.visit(a(h)("acacia.backend.album-types.edit",a(r)))),class:"p-button-text"}),s(a(b),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=t=>(x.value=!1,r.value=null)),class:"p-button-text"})]),default:o(()=>[x.value&&a(r)?(d(),v(ce,{key:0,model:a(r),onUpdated:L},null,8,["model"])):g("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{ft as default};
