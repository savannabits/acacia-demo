var L=Object.defineProperty,Q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var B=(p,l,n)=>l in p?L(p,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[l]=n,E=(p,l)=>{for(var n in l||(l={}))X.call(l,n)&&B(p,n,l[n]);if(A)for(var n of A(l))Z.call(l,n)&&B(p,n,l[n]);return p},j=(p,l)=>Q(p,W(l));import{d as R,h as x,j as d,a as ee,b as te,c as ae,e as o,w as i,g as a,_ as se,F as oe,o as f,f as c,n as _,l as w,t as D,p as ie,$ as le,q as ne,M as F,a0 as P}from"./main.9e765f7d.js";import re from"./Backend.d947867c.js";import ce from"./PrimeDatatables.0582f2ad.js";import{s as m}from"./column.esm.6c61d2a3.js";import{s as v}from"./button.esm.a5ac1061.js";import{s as pe}from"./contextmenu.esm.bb623b07.js";import{d as Y}from"./dayjs.min.ae3816ac.js";import{s as U}from"./dialog.esm.20a296d3.js";import de from"./CreateForm.bb113b64.js";import me from"./EditForm.65c58333.js";import ue from"./ShowForm.97325aba.js";import{s as ve}from"./message.esm.a16f09f2.js";import"./Sidebar.485bfd5b.js";import"./SidebarLinkGroup.cb8761b1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Logo.bf84026c.js";import"./Header.61e29fbc.js";import"./ModalSearch.ed130d60.js";import"./DropdownNotifications.e398f91c.js";import"./DropdownHelp.9bd762b4.js";import"./DropdownProfile.a72bb30f.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.76c639d8.js";import"./DashboardAvatars.8beba91a.js";import"./DropdownFilter.676b5b1f.js";import"./Datepicker.e4af13a9.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./SidebarLink.20e5744c.js";import"./confirmdialog.esm.f379260d.js";import"./ripple.esm.1fe20658.js";import"./SidebarParentLink.898a9f6e.js";import"./inputtext.esm.dc0f2264.js";import"./datatable.esm.3689bee8.js";import"./paginator.esm.d428c35b.js";import"./dropdown.esm.5bafa883.js";import"./overlayeventbus.esm.ef5cc0da.js";import"./virtualscroller.esm.76cd2139.js";import"./inputnumber.esm.2f528c5c.js";import"./AcaciaDatepicker.3e912237.js";import"./AcaciaDd.0fbaa96e.js";const fe=c("title",null,"Schematics",-1),be=c("h4",{class:"font-black text-2xl px-1 md:px-4"},"Schematics",-1),he={class:"mx-auto flex container items-center justify-center mt-4"},xe={class:"rounded w-full p-2 bg-white"},_e={class:"flex flex-wrap items-center justify-end gap-2"},ye=ne("You are not authorized to access this content"),ge=c("h4",{class:"font-black text-xl"},"New Schematic",-1),we=c("h4",{class:"font-black text-xl"},"Schematic Details",-1),Ce=c("h4",{class:"font-black text-xl"},"Edit Single Schematic",-1),ke=R({name:"SchematicsIndex"}),mt=R(j(E({},ke),{setup(p){const l=x("api.v1.acacia-schematics.dt"),n="schematics-dt",V=d(["id","table_name","model_class","controller_class","route_name","generated_at","created_at","updated_at"]),C=d(null),k=d(),M=d([]),q=ee(),N=te(),O=d(null),b=d(!1),h=d(!1),y=d(!1),r=d(null),T=s=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await z(s),y.value=!0},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await z(s),h.value=!0},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{q.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>H(s)})},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.delete}}],z=async s=>{P.get(x("api.v1.acacia-schematics.show",s)).then(e=>{var u;r.value=(u=e.data)==null?void 0:u.payload}).catch(e=>{console.error(e),r.value=null})},$=()=>{O.value=new Date().toUTCString()},I=async(s,e)=>{M.value=T(e),await F(),k.value.show(s)},G=async s=>{M.value=T(s.data),await F(),k.value.show(s.originalEvent)},H=async function(s){var e,u,g;try{const t=await P.delete(x("api.v1.acacia-schematics.destroy",s));N.add({severity:"success",detail:t.data.message,life:3e3}),$()}catch(t){console.log(t);const S=((u=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:u.message)||((g=t==null?void 0:t.data)==null?void 0:g.message)||(t==null?void 0:t.message)||t||"Server error";N.add({severity:"error",detail:S,summary:"Server Error",life:1e4})}},K=s=>{b.value=!1,$()},J=s=>{h.value=!1,$()};return(s,e)=>(f(),ae(oe,null,[o(a(se),null,{default:i(()=>[fe]),_:1}),o(re,null,{header:i(()=>[be]),default:i(()=>{var u,g;return[c("div",he,[c("div",xe,[c("div",_e,[(u=s.$page.props.can)!=null&&u.create?(f(),_(a(v),{key:0,onClick:e[0]||(e[0]=t=>b.value=!0),"aria-label":"New Comment",label:"New Schematic",icon:"pi pi-plus"})):w("",!0)]),(g=s.$page.props.can)!=null&&g.viewAny?(f(),_(ce,{key:0,apiUrl:a(l),columnFilters:{},searchableColumns:V.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:a(C),"onUpdate:contextMenuSelection":e[1]||(e[1]=t=>le(C)?C.value=t:null),onRowContextmenu:G,rowHover:!0,refresh:a(O)},{default:i(()=>[o(a(m),{field:"id",header:"Id",sortable:!0}),o(a(m),{field:"table_name",header:"Table Name",sortable:!0}),o(a(m),{field:"model_class",header:"Model Class",sortable:!0}),o(a(m),{field:"controller_class",header:"Controller Class",sortable:!0}),o(a(m),{field:"route_name",header:"Route Name",sortable:!0}),o(a(m),{field:"generated_at",header:"Generated At",sortable:!0},{body:i(({data:t})=>[c("span",null,D(t.generated_at?a(Y)(t.generated_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),o(a(m),{field:"created_at",header:"Created At",sortable:!0},{body:i(({data:t})=>[c("span",null,D(t.created_at?a(Y)(t.created_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),o(a(m),{field:"updated_at",header:"Updated At",sortable:!0},{body:i(({data:t})=>[c("span",null,D(t.updated_at?a(Y)(t.updated_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),o(a(m),null,{body:i(t=>[o(a(v),{class:ie(["","p-button-text"]),onClick:S=>I(S,t.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(f(),_(a(ve),{key:1,severity:"error"},{default:i(()=>[ye]),_:1}))])]),o(a(pe),{ref_key:"contextMenu",ref:k,model:a(M)},null,8,["model"]),o(a(U),{position:"top",maximizable:!0,visible:b.value,"onUpdate:visible":e[4]||(e[4]=t=>b.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:i(()=>[ge]),footer:i(()=>[o(a(v),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=t=>s.$inertia.visit(a(x)("acacia.g-panel.acacia-schematics.create"))),class:"p-button-text"}),o(a(v),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=t=>b.value=!1),class:"p-button-text"})]),default:i(()=>[b.value?(f(),_(de,{key:0,onCreated:K})):w("",!0)]),_:1},8,["visible"]),o(a(U),{position:"top",maximizable:!0,visible:y.value,"onUpdate:visible":e[7]||(e[7]=t=>y.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:i(()=>[we]),footer:i(()=>[o(a(v),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=t=>s.$inertia.visit(a(x)("acacia.g-panel.acacia-schematics.show",a(r)))),class:"p-button-text"}),o(a(v),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=t=>(y.value=!1,r.value=null)),class:"p-button-text"})]),default:i(()=>[y.value&&a(r)?(f(),_(ue,{key:0,model:a(r)},null,8,["model"])):w("",!0)]),_:1},8,["visible"]),o(a(U),{position:"top",maximizable:!0,visible:h.value,"onUpdate:visible":e[10]||(e[10]=t=>h.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:i(()=>[Ce]),footer:i(()=>[o(a(v),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=t=>s.$inertia.visit(a(x)("acacia.g-panel.acacia-schematics.edit",a(r)))),class:"p-button-text"}),o(a(v),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=t=>(h.value=!1,r.value=null)),class:"p-button-text"})]),default:i(()=>[h.value&&a(r)?(f(),_(me,{key:0,model:a(r),onUpdated:J},null,8,["model"])):w("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{mt as default};
