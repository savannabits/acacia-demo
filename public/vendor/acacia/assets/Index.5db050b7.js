var L=Object.defineProperty,Q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var z=(p,i,n)=>i in p?L(p,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[i]=n,B=(p,i)=>{for(var n in i||(i={}))X.call(i,n)&&z(p,n,i[n]);if(O)for(var n of O(i))Z.call(i,n)&&z(p,n,i[n]);return p},E=(p,i)=>Q(p,W(i));import{d as P,h as x,j as u,a as ee,b as te,c as ae,e as l,w as s,g as a,_ as oe,F as le,o as v,f as d,n as h,l as _,t as T,p as se,$ as ie,q as ne,M as j,a0 as A}from"./main.9e765f7d.js";import re from"./Backend.d947867c.js";import pe from"./PrimeDatatables.0582f2ad.js";import{s as y}from"./column.esm.6c61d2a3.js";import{s as c}from"./button.esm.a5ac1061.js";import{s as de}from"./contextmenu.esm.bb623b07.js";import{d as F}from"./dayjs.min.ae3816ac.js";import{s as R}from"./dialog.esm.20a296d3.js";import ue from"./CreateForm.e75dd57d.js";import me from"./EditForm.7a3845aa.js";import ce from"./ShowForm.a7701ad2.js";import{s as ve}from"./message.esm.a16f09f2.js";import"./Sidebar.485bfd5b.js";import"./SidebarLinkGroup.cb8761b1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Logo.bf84026c.js";import"./Header.61e29fbc.js";import"./ModalSearch.ed130d60.js";import"./DropdownNotifications.e398f91c.js";import"./DropdownHelp.9bd762b4.js";import"./DropdownProfile.a72bb30f.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.76c639d8.js";import"./DashboardAvatars.8beba91a.js";import"./DropdownFilter.676b5b1f.js";import"./Datepicker.e4af13a9.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./SidebarLink.20e5744c.js";import"./confirmdialog.esm.f379260d.js";import"./ripple.esm.1fe20658.js";import"./SidebarParentLink.898a9f6e.js";import"./inputtext.esm.dc0f2264.js";import"./datatable.esm.3689bee8.js";import"./paginator.esm.d428c35b.js";import"./dropdown.esm.5bafa883.js";import"./overlayeventbus.esm.ef5cc0da.js";import"./virtualscroller.esm.76cd2139.js";import"./inputnumber.esm.2f528c5c.js";import"./AssignPerms.6bb28a65.js";import"./checkbox.esm.12d385d5.js";import"./tabpanel.esm.ff7e1051.js";import"./AcaciaDd.0fbaa96e.js";const fe=d("title",null,"Roles",-1),be=d("h4",{class:"font-black text-2xl px-1 md:px-4"},"Roles",-1),xe={class:"mx-auto flex container items-center justify-center mt-4"},he={class:"rounded w-full p-2 bg-white"},ye={class:"flex flex-wrap items-center justify-end gap-2"},we=ne("You are not authorized to access this content"),ke=d("h4",{class:"font-black text-xl"},"New Role",-1),_e=d("h4",{class:"font-black text-xl"},"Role Details",-1),Ce=d("h4",{class:"font-black text-xl"},"Edit Single Role",-1),ge=P({name:"RolesIndex"}),vt=P(E(B({},ge),{setup(p){const i=x("api.v1.roles.dt"),n="roles-dt",V=u(["id","name","guard_name","created_at","updated_at"]),C=u(null),g=u(),M=u([]),q=ee(),U=te(),N=u(null),f=u(!1),b=u(!1),w=u(!1),r=u(null),S=o=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await Y(o),w.value=!0},visible:()=>{var e;return(e=o==null?void 0:o.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await Y(o),b.value=!0},visible:()=>{var e;return(e=o==null?void 0:o.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{q.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>H(o)})},visible:()=>{var e;return(e=o==null?void 0:o.can)==null?void 0:e.delete}}],Y=async o=>{A.get(x("api.v1.roles.show",o)).then(e=>{var m;r.value=(m=e.data)==null?void 0:m.payload}).catch(e=>{console.error(e),r.value=null})},$=()=>{N.value=new Date().toUTCString()},I=async(o,e)=>{M.value=S(e),await j(),g.value.show(o)},G=async o=>{M.value=S(o.data),await j(),g.value.show(o.originalEvent)},H=async function(o){var e,m,k;try{const t=await A.delete(x("api.v1.roles.destroy",o));U.add({severity:"success",detail:t.data.message,life:3e3}),$()}catch(t){console.log(t);const D=((m=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:m.message)||((k=t==null?void 0:t.data)==null?void 0:k.message)||(t==null?void 0:t.message)||t||"Server error";U.add({severity:"error",detail:D,summary:"Server Error",life:1e4})}},K=o=>{f.value=!1,$()},J=o=>{b.value=!1,$()};return(o,e)=>(v(),ae(le,null,[l(a(oe),null,{default:s(()=>[fe]),_:1}),l(re,null,{header:s(()=>[be]),default:s(()=>{var m,k;return[d("div",xe,[d("div",he,[d("div",ye,[(m=o.$page.props.can)!=null&&m.create?(v(),h(a(c),{key:0,onClick:e[0]||(e[0]=t=>f.value=!0),"aria-label":"New Comment",label:"New Role",icon:"pi pi-plus"})):_("",!0)]),(k=o.$page.props.can)!=null&&k.viewAny?(v(),h(pe,{key:0,apiUrl:a(i),columnFilters:{},searchableColumns:V.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:a(C),"onUpdate:contextMenuSelection":e[1]||(e[1]=t=>ie(C)?C.value=t:null),onRowContextmenu:G,rowHover:!0,refresh:a(N)},{default:s(()=>[l(a(y),{field:"id",header:"Id",sortable:!0}),l(a(y),{field:"name",header:"Name",sortable:!0}),l(a(y),{field:"guard_name",header:"Guard Name",sortable:!0}),l(a(y),{field:"created_at",header:"Created At",sortable:!0},{body:s(({data:t})=>[d("span",null,T(t.created_at?a(F)(t.created_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),l(a(y),{field:"updated_at",header:"Updated At",sortable:!0},{body:s(({data:t})=>[d("span",null,T(t.updated_at?a(F)(t.updated_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),l(a(y),null,{body:s(t=>[l(a(c),{class:se(["","p-button-text"]),onClick:D=>I(D,t.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(v(),h(a(ve),{key:1,severity:"error"},{default:s(()=>[we]),_:1}))])]),l(a(de),{ref_key:"contextMenu",ref:g,model:a(M)},null,8,["model"]),l(a(R),{position:"top",maximizable:!0,visible:f.value,"onUpdate:visible":e[4]||(e[4]=t=>f.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:s(()=>[ke]),footer:s(()=>[l(a(c),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=t=>o.$inertia.visit(a(x)("acacia.auth.roles.create"))),class:"p-button-text"}),l(a(c),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=t=>f.value=!1),class:"p-button-text"})]),default:s(()=>[f.value?(v(),h(ue,{key:0,onCreated:K})):_("",!0)]),_:1},8,["visible"]),l(a(R),{position:"top",maximizable:!0,visible:w.value,"onUpdate:visible":e[7]||(e[7]=t=>w.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:s(()=>[_e]),footer:s(()=>[l(a(c),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=t=>o.$inertia.visit(a(x)("acacia.auth.roles.show",a(r)))),class:"p-button-text"}),l(a(c),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=t=>(w.value=!1,r.value=null)),class:"p-button-text"})]),default:s(()=>[w.value&&a(r)?(v(),h(ce,{key:0,model:a(r)},null,8,["model"])):_("",!0)]),_:1},8,["visible"]),l(a(R),{position:"top",maximizable:!0,visible:b.value,"onUpdate:visible":e[10]||(e[10]=t=>b.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"50vw"}},{header:s(()=>[Ce]),footer:s(()=>[l(a(c),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=t=>o.$inertia.visit(a(x)("acacia.auth.roles.edit",a(r)))),class:"p-button-text"}),l(a(c),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=t=>(b.value=!1,r.value=null)),class:"p-button-text"})]),default:s(()=>[b.value&&a(r)?(v(),h(me,{key:0,model:a(r),onUpdated:J},null,8,["model"])):_("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{vt as default};
