var L=Object.defineProperty,Q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var z=(p,l,n)=>l in p?L(p,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[l]=n,B=(p,l)=>{for(var n in l||(l={}))X.call(l,n)&&z(p,n,l[n]);if(T)for(var n of T(l))Z.call(l,n)&&z(p,n,l[n]);return p},P=(p,l)=>Q(p,W(l));import{d as A,h,j as u,a as ee,b as te,c as ie,e as o,w as s,g as i,_ as ae,F as oe,o as c,f as m,n as v,l as g,p as F,$ as se,q as le,M as R,a0 as V}from"./main.9e765f7d.js";import ne from"./Backend.d947867c.js";import re from"./PrimeDatatables.0582f2ad.js";import{s as b}from"./column.esm.6c61d2a3.js";import{s as f}from"./button.esm.a5ac1061.js";import{s as pe}from"./contextmenu.esm.bb623b07.js";import{s as j}from"./badge.esm.294925a2.js";import{s as S}from"./dialog.esm.20a296d3.js";import ue from"./CreateForm.54b98256.js";import ce from"./EditForm.e6ed2a02.js";import me from"./ShowForm.2cba19a0.js";import{s as de}from"./message.esm.a16f09f2.js";import"./Sidebar.485bfd5b.js";import"./SidebarLinkGroup.cb8761b1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Logo.bf84026c.js";import"./Header.61e29fbc.js";import"./ModalSearch.ed130d60.js";import"./DropdownNotifications.e398f91c.js";import"./DropdownHelp.9bd762b4.js";import"./DropdownProfile.a72bb30f.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.76c639d8.js";import"./DashboardAvatars.8beba91a.js";import"./DropdownFilter.676b5b1f.js";import"./Datepicker.e4af13a9.js";import"./vue-flatpickr.min.9bcaefd2.js";import"./SidebarLink.20e5744c.js";import"./confirmdialog.esm.f379260d.js";import"./ripple.esm.1fe20658.js";import"./SidebarParentLink.898a9f6e.js";import"./inputtext.esm.dc0f2264.js";import"./datatable.esm.3689bee8.js";import"./paginator.esm.d428c35b.js";import"./dropdown.esm.5bafa883.js";import"./overlayeventbus.esm.ef5cc0da.js";import"./virtualscroller.esm.76cd2139.js";import"./inputnumber.esm.2f528c5c.js";import"./inputswitch.esm.90fe6344.js";import"./AcaciaRichSelect.1af0e202.js";import"./vue-select.c5557806.js";import"./dayjs.min.ae3816ac.js";import"./tag.esm.e2e26d3d.js";import"./AcaciaDd.0fbaa96e.js";const ve=m("title",null,"Menus",-1),fe=m("h4",{class:"font-black text-2xl px-1 md:px-4"},"Menus",-1),be={class:"mx-auto flex container items-center justify-center mt-4"},xe={class:"rounded w-full p-2 bg-white"},ye={class:"flex flex-wrap items-center justify-end gap-2"},he=["title"],ke=le("You are not authorized to access this content"),we=m("h4",{class:"font-black text-xl"},"New Menu",-1),ge=m("h4",{class:"font-black text-xl"},"Menu Details",-1),_e=m("h4",{class:"font-black text-xl"},"Edit Single Menu",-1),Ce=A({name:"MenusIndex"}),bt=A(P(B({},Ce),{setup(p){const l=h("api.v1.acacia-menus.dt"),n="menus-dt",q=u(["id","title","icon","route","url","active_pattern","position","permission_name","module_name","description","created_at","updated_at"]),_=u(null),C=u(),M=u([]),I=ee(),U=te(),O=u(null),x=u(!1),y=u(!1),k=u(!1),r=u(null),D=a=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await E(a),k.value=!0},visible:()=>{var e;return(e=a==null?void 0:a.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await E(a),y.value=!0},visible:()=>{var e;return(e=a==null?void 0:a.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{I.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>K(a)})},visible:()=>{var e;return(e=a==null?void 0:a.can)==null?void 0:e.delete}}],E=async a=>{V.get(h("api.v1.acacia-menus.show",a)).then(e=>{var d;r.value=(d=e.data)==null?void 0:d.payload}).catch(e=>{console.error(e),r.value=null})},$=()=>{O.value=new Date().toUTCString()},Y=async(a,e)=>{M.value=D(e),await R(),C.value.show(a)},H=async a=>{M.value=D(a.data),await R(),C.value.show(a.originalEvent)},K=async function(a){var e,d,w;try{const t=await V.delete(h("api.v1.acacia-menus.destroy",a));U.add({severity:"success",detail:t.data.message,life:3e3}),$()}catch(t){console.log(t);const N=((d=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:d.message)||((w=t==null?void 0:t.data)==null?void 0:w.message)||(t==null?void 0:t.message)||t||"Server error";U.add({severity:"error",detail:N,summary:"Server Error",life:1e4})}},G=a=>{x.value=!1,$()},J=a=>{y.value=!1,$()};return(a,e)=>(c(),ie(oe,null,[o(i(ae),null,{default:s(()=>[ve]),_:1}),o(ne,null,{header:s(()=>[fe]),default:s(()=>{var d,w;return[m("div",be,[m("div",xe,[m("div",ye,[(d=a.$page.props.can)!=null&&d.create?(c(),v(i(f),{key:0,onClick:e[0]||(e[0]=t=>x.value=!0),"aria-label":"New Comment",label:"New Menu",icon:"pi pi-plus"})):g("",!0)]),(w=a.$page.props.can)!=null&&w.viewAny?(c(),v(re,{key:0,apiUrl:i(l),columnFilters:{},searchableColumns:q.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:i(_),"onUpdate:contextMenuSelection":e[1]||(e[1]=t=>se(_)?_.value=t:null),onRowContextmenu:H,rowHover:!0,refresh:i(O)},{default:s(()=>[o(i(b),{field:"title",header:"Title",sortable:!0}),o(i(b),{field:"parent.title",header:"Parent",sortable:!0}),o(i(b),{field:"route",header:"Route",sortable:!0}),o(i(b),{field:"module_name",header:"Module Name",sortable:!0}),o(i(b),{field:"icon",header:"Icon",sortable:!0},{body:s(({data:t})=>[m("i",{class:F(t==null?void 0:t.icon),title:t.icon},null,10,he)]),_:1}),o(i(b),{field:"active",header:"Active",sortable:!0},{body:s(({data:t})=>[t.active?(c(),v(i(j),{key:0,severity:"success",value:"YES"})):(c(),v(i(j),{key:1,severity:"danger",value:"NO"}))]),_:1}),o(i(b),null,{body:s(t=>[o(i(f),{class:F(["","p-button-text"]),onClick:N=>Y(N,t.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(c(),v(i(de),{key:1,severity:"error"},{default:s(()=>[ke]),_:1}))])]),o(i(pe),{ref_key:"contextMenu",ref:C,model:i(M)},null,8,["model"]),o(i(S),{position:"top",maximizable:!0,visible:x.value,"onUpdate:visible":e[4]||(e[4]=t=>x.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:s(()=>[we]),footer:s(()=>[o(i(f),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=t=>a.$inertia.visit(i(h)("acacia.g-panel.acacia-menus.create"))),class:"p-button-text"}),o(i(f),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=t=>x.value=!1),class:"p-button-text"})]),default:s(()=>[x.value?(c(),v(ue,{key:0,onCreated:G})):g("",!0)]),_:1},8,["visible"]),o(i(S),{position:"top",maximizable:!0,visible:k.value,"onUpdate:visible":e[7]||(e[7]=t=>k.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:s(()=>[ge]),footer:s(()=>[o(i(f),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=t=>a.$inertia.visit(i(h)("acacia.g-panel.acacia-menus.show",i(r)))),class:"p-button-text"}),o(i(f),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=t=>(k.value=!1,r.value=null)),class:"p-button-text"})]),default:s(()=>[k.value&&i(r)?(c(),v(me,{key:0,model:i(r)},null,8,["model"])):g("",!0)]),_:1},8,["visible"]),o(i(S),{position:"top",maximizable:!0,visible:y.value,"onUpdate:visible":e[10]||(e[10]=t=>y.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:s(()=>[_e]),footer:s(()=>[o(i(f),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=t=>a.$inertia.visit(i(h)("acacia.g-panel.acacia-menus.edit",i(r)))),class:"p-button-text"}),o(i(f),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=t=>(y.value=!1,r.value=null)),class:"p-button-text"})]),default:s(()=>[y.value&&i(r)?(c(),v(ce,{key:0,model:i(r),onUpdated:J},null,8,["model"])):g("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{bt as default};
