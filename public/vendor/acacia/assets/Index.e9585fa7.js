var J=Object.defineProperty,Q=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var U=(d,l,n)=>l in d?J(d,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[l]=n,F=(d,l)=>{for(var n in l||(l={}))Z.call(l,n)&&U(d,n,l[n]);if(N)for(var n of N(l))ee.call(l,n)&&U(d,n,l[n]);return d},B=(d,l)=>Q(d,X(l));import{e as E,d as j,p as m,f as te,g as ae,i as se,j as o,w as i,m as a,a6 as oe,F as ie,o as c,k as p,v as f,s as w,z as O,x as le,a7 as ne,y as re,Y as P,a as z}from"./vendor.05df324e.js";import de from"./Backend.6e087c50.js";import pe from"./PrimeDatatables.06075155.js";import{s as v}from"./column.esm.cc8b8b77.js";import{s as b}from"./button.esm.cbb15c31.js";import{s as me}from"./contextmenu.esm.552fe433.js";import{s as V}from"./badge.esm.5ac8bf49.js";import{d as H}from"./dayjs.min.2d765ffc.js";import{s as D}from"./dialog.esm.7f94084b.js";import ce from"./CreateForm.e59b47b7.js";import ue from"./EditForm.f776c2c2.js";import fe from"./ShowForm.cb25962b.js";import{s as be}from"./message.esm.2b7d3da1.js";import"./Sidebar.9fa42cf7.js";import"./SidebarLinkGroup.631e5e48.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Header.f4796df8.js";import"./ModalSearch.0fe5a03a.js";import"./DropdownNotifications.8ff848f9.js";import"./DropdownHelp.ee3a80f5.js";import"./DropdownProfile.b6a2cd02.js";import"./user-avatar-32.07bf604b.js";import"./WelcomeBanner.e6597c05.js";import"./DashboardAvatars.03cd71bc.js";import"./DropdownFilter.d3d0573f.js";import"./Datepicker.0a132f4e.js";import"./vue-flatpickr.min.87ca1928.js";import"./SidebarLink.e30e4992.js";import"./confirmdialog.esm.5be0612a.js";import"./ripple.esm.574b991d.js";import"./SidebarParentLink.acf5cc4a.js";import"./inputtext.esm.b08d2117.js";import"./datatable.esm.6e02ebef.js";import"./paginator.esm.ff35b289.js";import"./dropdown.esm.573df5c1.js";import"./overlayeventbus.esm.d529c5a8.js";import"./virtualscroller.esm.adfef9da.js";import"./inputnumber.esm.f09ada2c.js";import"./textarea.esm.b60c054e.js";import"./inputswitch.esm.f0cf91c0.js";import"./tag.esm.ade7af22.js";import"./AcaciaDd.922ceb07.js";const ve=p("title",null,"Album Types",-1),ye=p("h4",{class:"font-black text-2xl px-1 md:px-4"},"Album Types",-1),xe={class:"mx-auto flex container items-center justify-center mt-4"},je={class:"rounded w-full p-2 bg-white"},ke={class:"flex flex-wrap items-center justify-end gap-2"},he=re("You are not authorized to access this content"),we=p("h4",{class:"font-black text-xl"},"New Album Type",-1),ge=p("h4",{class:"font-black text-xl"},"Album Type Details",-1),Ce=p("h4",{class:"font-black text-xl"},"Edit Single Album Type",-1),_e=E({name:"AlbumTypesIndex"}),bt=E(B(F({},_e),{setup(d){const l=j("api.v1.album-types.dt"),n="album-types-dt",L=m(["id","slug","name","active","created_at","updated_at"]),g=m(null),C=m(),_=m([]),R=te(),S=ae(),A=m(null),y=m(!1),x=m(!1),k=m(!1),r=m(null),T=s=>[{label:"Details",icon:"pi pi-eye",command:async()=>{r.value=null,await Y(s),k.value=!0},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.view}},{separator:!0},{label:"Edit",icon:"pi pi-pencil",command:async()=>{r.value=null,await Y(s),x.value=!0},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.update}},{label:"Delete",icon:"pi pi-trash",command:()=>{R.require({message:"Are you sure you want to delete this record?",header:"Confirm Deletion",accept:()=>G(s)})},visible:()=>{var e;return(e=s==null?void 0:s.can)==null?void 0:e.delete}}],Y=async s=>{z.get(j("api.v1.album-types.show",s)).then(e=>{var u;r.value=(u=e.data)==null?void 0:u.payload}).catch(e=>{console.error(e),r.value=null})},M=()=>{A.value=new Date().toUTCString()},I=async(s,e)=>{_.value=T(e),await P(),C.value.show(s)},q=async s=>{_.value=T(s.data),await P(),C.value.show(s.originalEvent)},G=async function(s){var e,u,h;try{const t=await z.delete(j("api.v1.album-types.destroy",s));S.add({severity:"success",detail:t.data.message,life:3e3}),M()}catch(t){console.log(t);const $=((u=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:u.message)||((h=t==null?void 0:t.data)==null?void 0:h.message)||(t==null?void 0:t.message)||t||"Server error";S.add({severity:"error",detail:$,summary:"Server Error",life:1e4})}},K=s=>{y.value=!1,M()},W=s=>{x.value=!1,M()};return(s,e)=>(c(),se(ie,null,[o(a(oe),null,{default:i(()=>[ve]),_:1}),o(de,null,{header:i(()=>[ye]),default:i(()=>{var u,h;return[p("div",xe,[p("div",je,[p("div",ke,[((u=s.$page.props.can)==null?void 0:u.create)?(c(),f(a(b),{key:0,onClick:e[0]||(e[0]=t=>y.value=!0),"aria-label":"New Comment",label:"New Album Type",icon:"pi pi-plus"})):w("",!0)]),((h=s.$page.props.can)==null?void 0:h.viewAny)?(c(),f(pe,{key:0,apiUrl:a(l),columnFilters:{},searchableColumns:L.value,stateKey:n,defaultSortField:"id",contextMenu:"",contextMenuSelection:a(g),"onUpdate:contextMenuSelection":e[1]||(e[1]=t=>ne(g)?g.value=t:null),onRowContextmenu:q,rowHover:!0,refresh:a(A)},{default:i(()=>[o(a(v),{field:"id",header:"Id",sortable:!0}),o(a(v),{field:"slug",header:"Slug",sortable:!0}),o(a(v),{field:"name",header:"Name",sortable:!0}),o(a(v),{field:"active",header:"Active",sortable:!0},{body:i(({data:t})=>[t.active?(c(),f(a(V),{key:0,severity:"success",value:"YES"})):(c(),f(a(V),{key:1,severity:"danger",value:"NO"}))]),_:1}),o(a(v),{field:"created_at",header:"Created At",sortable:!0},{body:i(({data:t})=>[p("span",null,O(t.created_at?a(H)(t.created_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),o(a(v),{field:"updated_at",header:"Updated At",sortable:!0},{body:i(({data:t})=>[p("span",null,O(t.updated_at?a(H)(t.updated_at).format("MMM DD, YYYY hh:mm a"):"-"),1)]),_:1}),o(a(v),null,{body:i(t=>[o(a(b),{class:le(["","p-button-text"]),onClick:$=>I($,t.data),"icon-pos":"right",icon:"pi pi-ellipsis-v",label:"Options"},null,8,["onClick"])]),_:1})]),_:1},8,["apiUrl","searchableColumns","contextMenuSelection","refresh"])):(c(),f(a(be),{key:1,severity:"error"},{default:i(()=>[he]),_:1}))])]),o(a(me),{ref_key:"contextMenu",ref:C,model:a(_)},null,8,["model"]),o(a(D),{position:"top",maximizable:!0,visible:y.value,"onUpdate:visible":e[4]||(e[4]=t=>y.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:i(()=>[we]),footer:i(()=>[o(a(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[2]||(e[2]=t=>s.$inertia.visit(a(j)("acacia.backend.album-types.create"))),class:"p-button-text"}),o(a(b),{label:"Close",icon:"pi pi-times",onClick:e[3]||(e[3]=t=>y.value=!1),class:"p-button-text"})]),default:i(()=>[y.value?(c(),f(ce,{key:0,onCreated:K})):w("",!0)]),_:1},8,["visible"]),o(a(D),{position:"top",maximizable:!0,visible:k.value,"onUpdate:visible":e[7]||(e[7]=t=>k.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:i(()=>[ge]),footer:i(()=>[o(a(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[5]||(e[5]=t=>s.$inertia.visit(a(j)("acacia.backend.album-types.show",a(r)))),class:"p-button-text"}),o(a(b),{label:"Close",icon:"pi pi-times",onClick:e[6]||(e[6]=t=>(k.value=!1,r.value=null)),class:"p-button-text"})]),default:i(()=>[k.value&&a(r)?(c(),f(fe,{key:0,model:a(r)},null,8,["model"])):w("",!0)]),_:1},8,["visible"]),o(a(D),{position:"top",maximizable:!0,visible:x.value,"onUpdate:visible":e[10]||(e[10]=t=>x.value=t),modal:!0,breakpoints:{"1600px":"50vw","960px":"75vw","540px":"100vw"},style:{width:"35vw"}},{header:i(()=>[Ce]),footer:i(()=>[o(a(b),{label:"Open in a Page",icon:"pi pi-window",onClick:e[8]||(e[8]=t=>s.$inertia.visit(a(j)("acacia.backend.album-types.edit",a(r)))),class:"p-button-text"}),o(a(b),{label:"Close",icon:"pi pi-times",onClick:e[9]||(e[9]=t=>(x.value=!1,r.value=null)),class:"p-button-text"})]),default:i(()=>[x.value&&a(r)?(c(),f(ue,{key:0,model:a(r),onUpdated:W},null,8,["model"])):w("",!0)]),_:1},8,["visible"])]}),_:1})],64))}}));export{bt as default};
