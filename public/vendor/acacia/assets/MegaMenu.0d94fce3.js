import{X as f,c as a,k as D,l as m,f as h,F as c,m as C,p as u,r as B,E as P,o as i,P as v,n as b,w as M,C as _,t as k,G as S}from"./main.9e765f7d.js";import{R as A}from"./ripple.esm.1fe20658.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";const F={name:"MegaMenu",props:{model:{type:Array,default:null},orientation:{type:String,default:"horizontal"},exact:{type:Boolean,default:!0}},documentClickListener:null,data(){return{activeItem:null}},beforeUnmount(){this.unbindDocumentClickListener()},methods:{onLeafClick(e,t,r){if(this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),this.activeItem=null,t.to&&r&&r(e)},onCategoryMouseEnter(e,t){if(this.disabled(t)){e.preventDefault();return}this.activeItem&&(this.activeItem=t)},onCategoryClick(e,t,r){if(this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),t.items&&(this.activeItem&&this.activeItem===t?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=t,this.bindDocumentClickListener())),t.to&&r&&r(e)},onCategoryKeydown(e,t){let r=e.currentTarget.parentElement;switch(e.which){case 40:this.horizontal?this.expandMenu(t):this.navigateToNextItem(r),e.preventDefault();break;case 38:this.vertical?this.navigateToPrevItem(r):t.items&&t===this.activeItem&&this.collapseMenu(),e.preventDefault();break;case 39:this.horizontal?this.navigateToNextItem(r):this.expandMenu(t),e.preventDefault();break;case 37:this.horizontal?this.navigateToPrevItem(r):t.items&&t===this.activeItem&&this.collapseMenu(),e.preventDefault();break}},expandMenu(e){e.items&&(this.activeItem=e)},collapseMenu(){this.activeItem=null},findNextItem(e){let t=e.nextElementSibling;return t?f.hasClass(t,"p-disabled")||!f.hasClass(t,"p-menuitem")?this.findNextItem(t):t:null},findPrevItem(e){let t=e.previousElementSibling;return t?f.hasClass(t,"p-disabled")||!f.hasClass(t,"p-menuitem")?this.findPrevItem(t):t:null},navigateToNextItem(e){var t=this.findNextItem(e);t&&t.children[0].focus()},navigateToPrevItem(e){var t=this.findPrevItem(e);t&&t.children[0].focus()},getCategoryClass(e){return["p-menuitem",{"p-menuitem-active":e===this.activeItem},e.class]},getCategorySubMenuIcon(){return["p-submenu-icon pi",{"pi-angle-down":this.horizontal,"pi-angle-right":this.vertical}]},getCategoryIcon(e){return["p-menuitem-icon",e.icon]},getColumnClassName(e){let t=e.items?e.items.length:0,r;switch(t){case 2:r="p-megamenu-col-6";break;case 3:r="p-megamenu-col-4";break;case 4:r="p-megamenu-col-3";break;case 6:r="p-megamenu-col-2";break;default:r="p-megamenu-col-12";break}return r},getSubmenuHeaderClass(e){return["p-megamenu-submenu-header",e.class,{"p-disabled":this.disabled(e)}]},getSubmenuItemClass(e){return["p-menuitem",e.class]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.$el&&!this.$el.contains(e.target)&&(this.activeItem=null,this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.disabled=="function"?e.label():e.label}},computed:{containerClass(){return["p-megamenu p-component",{"p-megamenu-horizontal":this.horizontal,"p-megamenu-vertical":this.vertical}]},horizontal(){return this.orientation==="horizontal"},vertical(){return this.orientation==="vertical"}},directives:{ripple:A}},R={key:0,class:"p-megamenu-start"},V={class:"p-megamenu-root-list",role:"menubar"},G=["onMouseenter"],U=["href","onClick","onKeydown"],X={class:"p-menuitem-text"},j=["href","target","onClick","onKeydown","aria-haspopup","aria-expanded","tabindex"],q={class:"p-menuitem-text"},J={key:2,class:"p-megamenu-panel"},O={class:"p-megamenu-grid"},Q=["href","onClick"],W={class:"p-menuitem-text"},Y=["href","target","onClick","tabindex"],Z={class:"p-menuitem-text"},$={key:1,class:"p-megamenu-end"};function ee(e,t,r,te,w,l){const y=B("router-link"),p=P("ripple");return i(),a("div",{class:u(l.containerClass)},[e.$slots.start?(i(),a("div",R,[D(e.$slots,"start")])):m("",!0),h("ul",V,[(i(!0),a(c,null,C(r.model,(s,E)=>(i(),a(c,{key:l.label(s)+"_"+E},[l.visible(s)?(i(),a("li",{key:0,class:u(l.getCategoryClass(s)),style:v(s.style),onMouseenter:o=>l.onCategoryMouseEnter(o,s),role:"none"},[e.$slots.item?(i(),b(S(e.$slots.item),{key:1,item:s},null,8,["item"])):(i(),a(c,{key:0},[s.to&&!l.disabled(s)?(i(),b(y,{key:0,to:s.to,custom:""},{default:M(({navigate:o,href:I,isActive:d,isExactActive:g})=>[_((i(),a("a",{href:I,class:u(l.linkClass(s,{isActive:d,isExactActive:g})),onClick:n=>l.onCategoryClick(n,s,o),onKeydown:n=>l.onCategoryKeydown(n,s),role:"menuitem"},[s.icon?(i(),a("span",{key:0,class:u(l.getCategoryIcon(s))},null,2)):m("",!0),h("span",X,k(l.label(s)),1)],42,U)),[[p]])]),_:2},1032,["to"])):_((i(),a("a",{key:1,href:s.url,class:u(l.linkClass(s)),target:s.target,onClick:o=>l.onCategoryClick(o,s),onKeydown:o=>l.onCategoryKeydown(o,s),role:"menuitem","aria-haspopup":s.items!=null,"aria-expanded":s===w.activeItem,tabindex:l.disabled(s)?null:"0"},[s.icon?(i(),a("span",{key:0,class:u(l.getCategoryIcon(s))},null,2)):m("",!0),h("span",q,k(l.label(s)),1),s.items?(i(),a("span",{key:1,class:u(l.getCategorySubMenuIcon())},null,2)):m("",!0)],42,j)),[[p]])],64)),s.items?(i(),a("div",J,[h("div",O,[(i(!0),a(c,null,C(s.items,(o,I)=>(i(),a("div",{key:l.label(s)+"_column_"+I,class:u(l.getColumnClassName(s))},[(i(!0),a(c,null,C(o,(d,g)=>(i(),a("ul",{class:"p-megamenu-submenu",key:d.label+"_submenu_"+g,role:"menu"},[h("li",{class:u(l.getSubmenuHeaderClass(d)),style:v(d.style),role:"presentation"},k(d.label),7),(i(!0),a(c,null,C(d.items,(n,L)=>(i(),a(c,{key:l.label(n)+L.toString()},[l.visible(n)&&!n.separator?(i(),a("li",{key:0,role:"none",class:u(l.getSubmenuItemClass(n)),style:v(n.style)},[e.$slots.item?(i(),b(S(e.$slots.item),{key:1,item:n},null,8,["item"])):(i(),a(c,{key:0},[n.to&&!l.disabled(n)?(i(),b(y,{key:0,to:n.to,custom:""},{default:M(({navigate:x,href:z,isActive:N,isExactActive:K})=>[_((i(),a("a",{href:z,class:u(l.linkClass(n,{isActive:N,isExactActive:K})),onClick:T=>l.onLeafClick(T,n,x),role:"menuitem"},[n.icon?(i(),a("span",{key:0,class:u(["p-menuitem-icon",n.icon])},null,2)):m("",!0),h("span",W,k(l.label(n)),1)],10,Q)),[[p]])]),_:2},1032,["to"])):_((i(),a("a",{key:1,href:n.url,class:u(l.linkClass(n)),target:n.target,onClick:x=>l.onLeafClick(x,n),role:"menuitem",tabindex:l.disabled(n)?null:"0"},[n.icon?(i(),a("span",{key:0,class:u(["p-menuitem-icon",n.icon])},null,2)):m("",!0),h("span",Z,k(l.label(n)),1),n.items?(i(),a("span",{key:1,class:u(e.getSubmenuIcon())},null,2)):m("",!0)],10,Y)),[[p]])],64))],6)):m("",!0),l.visible(n)&&n.separator?(i(),a("li",{class:u(["p-menu-separator",n.class]),style:v(n.style),key:"separator"+L.toString(),role:"separator"},null,6)):m("",!0)],64))),128))]))),128))],2))),128))])])):m("",!0)],46,G)):m("",!0)],64))),128))]),e.$slots.end?(i(),a("div",$,[D(e.$slots,"end")])):m("",!0)],2)}var ie=H(F,[["render",ee]]);export{ie as default};
