import{a5 as f,i as a,q as M,s as o,k as h,F as c,t as v,x as u,r as B,O as j,o as i,an as C,v as b,w as D,M as _,z as p,Q as S}from"./vendor.05df324e.js";import{R as A}from"./ripple.esm.574b991d.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";const P={name:"MegaMenu",props:{model:{type:Array,default:null},orientation:{type:String,default:"horizontal"},exact:{type:Boolean,default:!0}},documentClickListener:null,data(){return{activeItem:null}},beforeUnmount(){this.unbindDocumentClickListener()},methods:{onLeafClick(e,t,r){if(this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),this.activeItem=null,t.to&&r&&r(e)},onCategoryMouseEnter(e,t){if(this.disabled(t)){e.preventDefault();return}this.activeItem&&(this.activeItem=t)},onCategoryClick(e,t,r){if(this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),t.items&&(this.activeItem&&this.activeItem===t?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=t,this.bindDocumentClickListener())),t.to&&r&&r(e)},onCategoryKeydown(e,t){let r=e.currentTarget.parentElement;switch(e.which){case 40:this.horizontal?this.expandMenu(t):this.navigateToNextItem(r),e.preventDefault();break;case 38:this.vertical?this.navigateToPrevItem(r):t.items&&t===this.activeItem&&this.collapseMenu(),e.preventDefault();break;case 39:this.horizontal?this.navigateToNextItem(r):this.expandMenu(t),e.preventDefault();break;case 37:this.horizontal?this.navigateToPrevItem(r):t.items&&t===this.activeItem&&this.collapseMenu(),e.preventDefault();break}},expandMenu(e){e.items&&(this.activeItem=e)},collapseMenu(){this.activeItem=null},findNextItem(e){let t=e.nextElementSibling;return t?f.hasClass(t,"p-disabled")||!f.hasClass(t,"p-menuitem")?this.findNextItem(t):t:null},findPrevItem(e){let t=e.previousElementSibling;return t?f.hasClass(t,"p-disabled")||!f.hasClass(t,"p-menuitem")?this.findPrevItem(t):t:null},navigateToNextItem(e){var t=this.findNextItem(e);t&&t.children[0].focus()},navigateToPrevItem(e){var t=this.findPrevItem(e);t&&t.children[0].focus()},getCategoryClass(e){return["p-menuitem",{"p-menuitem-active":e===this.activeItem},e.class]},getCategorySubMenuIcon(){return["p-submenu-icon pi",{"pi-angle-down":this.horizontal,"pi-angle-right":this.vertical}]},getCategoryIcon(e){return["p-menuitem-icon",e.icon]},getColumnClassName(e){let t=e.items?e.items.length:0,r;switch(t){case 2:r="p-megamenu-col-6";break;case 3:r="p-megamenu-col-4";break;case 4:r="p-megamenu-col-3";break;case 6:r="p-megamenu-col-2";break;default:r="p-megamenu-col-12";break}return r},getSubmenuHeaderClass(e){return["p-megamenu-submenu-header",e.class,{"p-disabled":this.disabled(e)}]},getSubmenuItemClass(e){return["p-menuitem",e.class]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.$el&&!this.$el.contains(e.target)&&(this.activeItem=null,this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.disabled=="function"?e.label():e.label}},computed:{containerClass(){return["p-megamenu p-component",{"p-megamenu-horizontal":this.horizontal,"p-megamenu-vertical":this.vertical}]},horizontal(){return this.orientation==="horizontal"},vertical(){return this.orientation==="vertical"}},directives:{ripple:A}},F={key:0,class:"p-megamenu-start"},R={class:"p-megamenu-root-list",role:"menubar"},V=["onMouseenter"],q=["href","onClick","onKeydown"],O={class:"p-menuitem-text"},Q=["href","target","onClick","onKeydown","aria-haspopup","aria-expanded","tabindex"],U={class:"p-menuitem-text"},G={key:2,class:"p-megamenu-panel"},J={class:"p-megamenu-grid"},W=["href","onClick"],X={class:"p-menuitem-text"},Y=["href","target","onClick","tabindex"],Z={class:"p-menuitem-text"},$={key:1,class:"p-megamenu-end"};function ee(e,t,r,te,w,s){const y=B("router-link"),k=j("ripple");return i(),a("div",{class:u(s.containerClass)},[e.$slots.start?(i(),a("div",F,[M(e.$slots,"start")])):o("",!0),h("ul",R,[(i(!0),a(c,null,v(r.model,(l,z)=>(i(),a(c,{key:s.label(l)+"_"+z},[s.visible(l)?(i(),a("li",{key:0,class:u(s.getCategoryClass(l)),style:C(l.style),onMouseenter:m=>s.onCategoryMouseEnter(m,l),role:"none"},[e.$slots.item?(i(),b(S(e.$slots.item),{key:1,item:l},null,8,["item"])):(i(),a(c,{key:0},[l.to&&!s.disabled(l)?(i(),b(y,{key:0,to:l.to,custom:""},{default:D(({navigate:m,href:I,isActive:d,isExactActive:g})=>[_((i(),a("a",{href:I,class:u(s.linkClass(l,{isActive:d,isExactActive:g})),onClick:n=>s.onCategoryClick(n,l,m),onKeydown:n=>s.onCategoryKeydown(n,l),role:"menuitem"},[l.icon?(i(),a("span",{key:0,class:u(s.getCategoryIcon(l))},null,2)):o("",!0),h("span",O,p(s.label(l)),1)],42,q)),[[k]])]),_:2},1032,["to"])):_((i(),a("a",{key:1,href:l.url,class:u(s.linkClass(l)),target:l.target,onClick:m=>s.onCategoryClick(m,l),onKeydown:m=>s.onCategoryKeydown(m,l),role:"menuitem","aria-haspopup":l.items!=null,"aria-expanded":l===w.activeItem,tabindex:s.disabled(l)?null:"0"},[l.icon?(i(),a("span",{key:0,class:u(s.getCategoryIcon(l))},null,2)):o("",!0),h("span",U,p(s.label(l)),1),l.items?(i(),a("span",{key:1,class:u(s.getCategorySubMenuIcon())},null,2)):o("",!0)],42,Q)),[[k]])],64)),l.items?(i(),a("div",G,[h("div",J,[(i(!0),a(c,null,v(l.items,(m,I)=>(i(),a("div",{key:s.label(l)+"_column_"+I,class:u(s.getColumnClassName(l))},[(i(!0),a(c,null,v(m,(d,g)=>(i(),a("ul",{class:"p-megamenu-submenu",key:d.label+"_submenu_"+g,role:"menu"},[h("li",{class:u(s.getSubmenuHeaderClass(d)),style:C(d.style),role:"presentation"},p(d.label),7),(i(!0),a(c,null,v(d.items,(n,L)=>(i(),a(c,{key:s.label(n)+L.toString()},[s.visible(n)&&!n.separator?(i(),a("li",{key:0,role:"none",class:u(s.getSubmenuItemClass(n)),style:C(n.style)},[e.$slots.item?(i(),b(S(e.$slots.item),{key:1,item:n},null,8,["item"])):(i(),a(c,{key:0},[n.to&&!s.disabled(n)?(i(),b(y,{key:0,to:n.to,custom:""},{default:D(({navigate:x,href:E,isActive:N,isExactActive:K})=>[_((i(),a("a",{href:E,class:u(s.linkClass(n,{isActive:N,isExactActive:K})),onClick:T=>s.onLeafClick(T,n,x),role:"menuitem"},[n.icon?(i(),a("span",{key:0,class:u(["p-menuitem-icon",n.icon])},null,2)):o("",!0),h("span",X,p(s.label(n)),1)],10,W)),[[k]])]),_:2},1032,["to"])):_((i(),a("a",{key:1,href:n.url,class:u(s.linkClass(n)),target:n.target,onClick:x=>s.onLeafClick(x,n),role:"menuitem",tabindex:s.disabled(n)?null:"0"},[n.icon?(i(),a("span",{key:0,class:u(["p-menuitem-icon",n.icon])},null,2)):o("",!0),h("span",Z,p(s.label(n)),1),n.items?(i(),a("span",{key:1,class:u(e.getSubmenuIcon())},null,2)):o("",!0)],10,Y)),[[k]])],64))],6)):o("",!0),s.visible(n)&&n.separator?(i(),a("li",{class:u(["p-menu-separator",n.class]),style:C(n.style),key:"separator"+L.toString(),role:"separator"},null,6)):o("",!0)],64))),128))]))),128))],2))),128))])])):o("",!0)],46,V)):o("",!0)],64))),128))]),e.$slots.end?(i(),a("div",$,[M(e.$slots,"end")])):o("",!0)],2)}var ie=H(P,[["render",ee]]);export{ie as default};
