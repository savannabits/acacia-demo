import{a5 as c,i as s,F as f,t as S,x as r,r as I,O as E,o as a,an as C,v as p,w as A,M as y,k as u,z as _,s as m,Q as M}from"./vendor.05df324e.js";import{R as K}from"./ripple.esm.574b991d.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";const N={name:"MenubarSub",emits:["keydown-item","leaf-click"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},mobileActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},documentClickListener:null,watch:{parentActive(e){e||(this.activeItem=null)}},data(){return{activeItem:null}},updated(){this.root&&this.activeItem&&this.bindDocumentClickListener()},beforeUnmount(){this.unbindDocumentClickListener()},methods:{onItemMouseEnter(e,t){if(this.disabled(t)||this.mobileActive){e.preventDefault();return}this.root?(this.activeItem||this.popup)&&(this.activeItem=t):this.activeItem=t},onItemClick(e,t,i){if(this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),t.items&&(this.activeItem&&t===this.activeItem?this.activeItem=null:this.activeItem=t),t.items||this.onLeafClick(),t.to&&i&&i(e)},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onItemKeyDown(e,t){let i=e.currentTarget.parentElement;switch(e.which){case 40:this.root?t.items&&this.expandSubmenu(t,i):this.navigateToNextItem(i),e.preventDefault();break;case 38:this.root||this.navigateToPrevItem(i),e.preventDefault();break;case 39:if(this.root){var d=this.findNextItem(i);d&&d.children[0].focus()}else t.items&&this.expandSubmenu(t,i);e.preventDefault();break;case 37:this.root&&this.navigateToPrevItem(i),e.preventDefault();break}this.$emit("keydown-item",{originalEvent:e,element:i})},onChildItemKeyDown(e){this.root?e.originalEvent.which===38&&e.element.previousElementSibling==null&&this.collapseMenu(e.element):e.originalEvent.which===37&&this.collapseMenu(e.element)},findNextItem(e){let t=e.nextElementSibling;return t?c.hasClass(t,"p-disabled")||!c.hasClass(t,"p-menuitem")?this.findNextItem(t):t:null},findPrevItem(e){let t=e.previousElementSibling;return t?c.hasClass(t,"p-disabled")||!c.hasClass(t,"p-menuitem")?this.findPrevItem(t):t:null},expandSubmenu(e,t){this.activeItem=e,setTimeout(()=>{t.children[1].children[0].children[0].focus()},50)},collapseMenu(e){this.activeItem=null,e.parentElement.previousElementSibling.focus()},navigateToNextItem(e){var t=this.findNextItem(e);t&&t.children[0].focus()},navigateToPrevItem(e){var t=this.findPrevItem(e);t&&t.children[0].focus()},getItemClass(e){return["p-menuitem",e.class,{"p-menuitem-active":this.activeItem===e}]},linkClass(e,t){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":t&&t.isActive,"router-link-active-exact":this.exact&&t&&t.isExactActive}]},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.$el&&!this.$el.contains(e.target)&&(this.activeItem=null,this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},getSubmenuIcon(){return["p-submenu-icon pi",{"pi-angle-right":!this.root,"pi-angle-down":this.root}]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}},computed:{containerClass(){return{"p-submenu-list":!this.root,"p-menubar-root-list":this.root}}},directives:{ripple:K}},T=["role"],j=["onMouseenter"],z=["href","onClick","onKeydown"],F={class:"p-menuitem-text"},P=["href","target","aria-haspopup","aria-expanded","onClick","onKeydown","tabindex"],R={class:"p-menuitem-text"};function V(e,t,i,d,v,l){const x=I("router-link"),g=I("MenubarSub",!0),b=E("ripple");return a(),s("ul",{class:r(l.containerClass),role:i.root?"menubar":"menu"},[(a(!0),s(f,null,S(i.model,(n,k)=>(a(),s(f,{key:l.label(n)+k.toString()},[l.visible(n)&&!n.separator?(a(),s("li",{key:0,role:"none",class:r(l.getItemClass(n)),style:C(n.style),onMouseenter:o=>l.onItemMouseEnter(o,n)},[i.template?(a(),p(M(i.template),{key:1,item:n},null,8,["item"])):(a(),s(f,{key:0},[n.to&&!l.disabled(n)?(a(),p(x,{key:0,to:n.to,custom:""},{default:A(({navigate:o,href:w,isActive:D,isExactActive:L})=>[y((a(),s("a",{href:w,onClick:h=>l.onItemClick(h,n,o),class:r(l.linkClass(n,{isActive:D,isExactActive:L})),onKeydown:h=>l.onItemKeyDown(h,n),role:"menuitem"},[u("span",{class:r(["p-menuitem-icon",n.icon])},null,2),u("span",F,_(l.label(n)),1)],42,z)),[[b]])]),_:2},1032,["to"])):y((a(),s("a",{key:1,href:n.url,class:r(l.linkClass(n)),target:n.target,"aria-haspopup":n.items!=null,"aria-expanded":n===v.activeItem,onClick:o=>l.onItemClick(o,n),onKeydown:o=>l.onItemKeyDown(o,n),role:"menuitem",tabindex:l.disabled(n)?null:"0"},[u("span",{class:r(["p-menuitem-icon",n.icon])},null,2),u("span",R,_(l.label(n)),1),n.items?(a(),s("span",{key:0,class:r(l.getSubmenuIcon())},null,2)):m("",!0)],42,P)),[[b]])],64)),l.visible(n)&&n.items?(a(),p(g,{model:n.items,key:l.label(n)+"_sub_",mobileActive:i.mobileActive,onLeafClick:l.onLeafClick,onKeydownItem:l.onChildItemKeyDown,parentActive:n===v.activeItem,template:i.template,exact:i.exact},null,8,["model","mobileActive","onLeafClick","onKeydownItem","parentActive","template","exact"])):m("",!0)],46,j)):m("",!0),l.visible(n)&&n.separator?(a(),s("li",{class:r(["p-menu-separator",n.class]),style:C(n.style),key:"separator"+k.toString(),role:"separator"},null,6)):m("",!0)],64))),128))],10,T)}var U=B(N,[["render",V]]);export{U as default};
