import{Z as a,X as l,a5 as v,U as y,n as p,e as L,w as m,T as b,K as C,E as k,o,c as d,f as h,k as g,C as E,l as c,J as O}from"./main.9e765f7d.js";import{O as r}from"./overlayeventbus.esm.ef5cc0da.js";import{R as w}from"./ripple.esm.1fe20658.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";const T={name:"OverlayPanel",inheritAttrs:!1,props:{dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!1},appendTo:{type:String,default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},ariaCloseLabel:{type:String,default:"close"},breakpoints:{type:Object,default:null}},emits:["show","hide"],data(){return{visible:!1}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,beforeUnmount(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&a.clear(this.container),this.overlayEventListener&&(r.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{toggle(e,t){this.visible?this.hide():this.show(e,t)},show(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide(){this.visible=!1},onContentClick(){this.selfClick=!0},onEnter(e){this.container.setAttribute(this.attributeSelector,""),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&a.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=t=>{this.container.contains(t.target)&&(this.selfClick=!0)},r.on("overlay-click",this.overlayEventListener),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),r.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave(e){this.autoZIndex&&a.clear(e)},alignOverlay(){l.absolutePosition(this.container,this.target);const e=l.getOffset(this.container),t=l.getOffset(this.target);let n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${n}px`),e.top<t.top&&l.addClass(this.container,"p-overlaypanel-flipped")},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.visible&&!this.selfClick&&!this.isTargetClicked(e)&&(this.visible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new v(this.target,()=>{this.visible&&(this.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!l.isAndroid()&&(this.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef(e){this.container=e},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-overlaypanel[${this.attributeSelector}] {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick(e){r.emit("overlay-click",{originalEvent:e,target:this.target})}},computed:{containerClass(){return["p-overlaypanel p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return y()}},directives:{ripple:w}},z=["aria-label"],_=h("span",{class:"p-overlaypanel-close-icon pi pi-times"},null,-1),x=[_];function H(e,t,n,I,u,i){const f=k("ripple");return o(),p(C,{to:n.appendTo},[L(b,{name:"p-overlaypanel",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},{default:m(()=>[u.visible?(o(),d("div",O({key:0,class:i.containerClass,ref:i.containerRef},e.$attrs,{onClick:t[3]||(t[3]=(...s)=>i.onOverlayClick&&i.onOverlayClick(...s))}),[h("div",{class:"p-overlaypanel-content",onClick:t[0]||(t[0]=(...s)=>i.onContentClick&&i.onContentClick(...s)),onMousedown:t[1]||(t[1]=(...s)=>i.onContentClick&&i.onContentClick(...s))},[g(e.$slots,"default")],32),n.showCloseIcon?E((o(),d("button",{key:0,class:"p-overlaypanel-close p-link",onClick:t[2]||(t[2]=(...s)=>i.hide&&i.hide(...s)),"aria-label":n.ariaCloseLabel,type:"button"},x,8,z)),[[f]]):c("",!0)],16)):c("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])],8,["to"])}var P=S(T,[["render",H]]);export{P as default};
