var S=Object.defineProperty;var m=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var f=(e,t,i)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,y=(e,t)=>{for(var i in t||(t={}))I.call(t,i)&&f(e,i,t[i]);if(m)for(var i of m(t))L.call(t,i)&&f(e,i,t[i]);return e};import{s as x}from"./button.esm.a5ac1061.js";import{R as w}from"./ripple.esm.1fe20658.js";import{T as B}from"./tooltip.esm.68c400c6.js";import{X as k,c as d,f as b,k as M,F as C,m as N,p as u,P as h,l as v,r as O,E as g,o as c,e as P,C as R,n as E,G as T}from"./main.9e765f7d.js";import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";const H={name:"SpeedDial",emits:["click","show","hide"],props:{model:null,visible:{type:Boolean,default:!1},direction:{type:String,default:"up"},transitionDelay:{type:Number,default:30},type:{type:String,default:"linear"},radius:{type:Number,default:0},mask:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hideOnClickOutside:{type:Boolean,default:!0},buttonClass:null,maskStyle:null,maskClass:null,showIcon:{type:String,default:"pi pi-plus"},hideIcon:null,rotateAnimation:{type:Boolean,default:!0},tooltipOptions:null,style:null,class:null},documentClickListener:null,container:null,list:null,data(){return{d_visible:this.visible,isItemClicked:!1}},watch:{visible(e){this.d_visible=e}},mounted(){if(this.type!=="linear"){const e=k.findSingle(this.container,".p-speeddial-button"),t=k.findSingle(this.list,".p-speeddial-item");if(e&&t){const i=Math.abs(e.offsetWidth-t.offsetWidth),r=Math.abs(e.offsetHeight-t.offsetHeight);this.list.style.setProperty("--item-diff-x",`${i/2}px`),this.list.style.setProperty("--item-diff-y",`${r/2}px`)}}this.hideOnClickOutside&&this.bindDocumentClickListener()},beforeMount(){this.unbindDocumentClickListener()},methods:{onItemClick(e,t){t.command&&t.command({originalEvent:e,item:t}),this.hide(),this.isItemClicked=!0,e.preventDefault()},onClick(e){this.d_visible?this.hide():this.show(),this.isItemClicked=!0,this.$emit("click",e)},show(){this.d_visible=!0,this.$emit("show")},hide(){this.d_visible=!1,this.$emit("hide")},calculateTransitionDelay(e){const t=this.model.length;return(this.d_visible?e:t-e-1)*this.transitionDelay},calculatePointStyle(e){const t=this.type;if(t!=="linear"){const i=this.model.length,r=this.radius||i*20;if(t==="circle"){const l=2*Math.PI/i;return{left:`calc(${r*Math.cos(l*e)}px + var(--item-diff-x, 0px))`,top:`calc(${r*Math.sin(l*e)}px + var(--item-diff-y, 0px))`}}else if(t==="semi-circle"){const l=this.direction,s=Math.PI/(i-1),n=`calc(${r*Math.cos(s*e)}px + var(--item-diff-x, 0px))`,a=`calc(${r*Math.sin(s*e)}px + var(--item-diff-y, 0px))`;if(l==="up")return{left:n,bottom:a};if(l==="down")return{left:n,top:a};if(l==="left")return{right:a,top:n};if(l==="right")return{left:a,top:n}}else if(t==="quarter-circle"){const l=this.direction,s=Math.PI/(2*(i-1)),n=`calc(${r*Math.cos(s*e)}px + var(--item-diff-x, 0px))`,a=`calc(${r*Math.sin(s*e)}px + var(--item-diff-y, 0px))`;if(l==="up-left")return{right:n,bottom:a};if(l==="up-right")return{left:n,bottom:a};if(l==="down-left")return{right:a,top:n};if(l==="down-right")return{left:a,top:n}}}return{}},getItemStyle(e){const t=this.calculateTransitionDelay(e),i=this.calculatePointStyle(e);return y({transitionDelay:`${t}ms`},i)},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.d_visible&&this.isOutsideClicked(e)&&this.hide(),this.isItemClicked=!1},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},isOutsideClicked(e){return this.container&&!(this.container.isSameNode(e.target)||this.container.contains(e.target)||this.isItemClicked)},containerRef(e){this.container=e},listRef(e){this.list=e}},computed:{containerClass(){return[`p-speeddial p-component p-speeddial-${this.type}`,{[`p-speeddial-direction-${this.direction}`]:this.type!=="circle","p-speeddial-opened":this.d_visible,"p-disabled":this.disabled},this.class]},buttonClassName(){return["p-speeddial-button p-button-rounded",{"p-speeddial-rotate":this.rotateAnimation&&!this.hideIcon},this.buttonClass]},iconClassName(){return this.d_visible&&!!this.hideIcon?this.hideIcon:this.showIcon},maskClassName(){return["p-speeddial-mask",{"p-speeddial-mask-visible":this.d_visible},this.maskClass]}},components:{SDButton:x},directives:{ripple:w,tooltip:B}},V=["href","target","onClick"];function z(e,t,i,r,l,s){const n=O("SDButton"),a=g("tooltip"),_=g("ripple");return c(),d(C,null,[b("div",{ref:s.containerRef,class:u(s.containerClass),style:h(i.style)},[M(e.$slots,"button",{toggle:s.onClick},()=>[P(n,{type:"button",class:u(s.buttonClassName),icon:s.iconClassName,onClick:t[0]||(t[0]=o=>s.onClick(o)),disabled:i.disabled},null,8,["class","icon","disabled"])]),b("ul",{ref:s.listRef,class:"p-speeddial-list",role:"menu"},[(c(!0),d(C,null,N(i.model,(o,p)=>(c(),d("li",{key:p,class:"p-speeddial-item",style:h(s.getItemStyle(p)),role:"none"},[e.$slots.item?(c(),E(T(e.$slots.item),{key:1,item:o},null,8,["item"])):R((c(),d("a",{key:0,href:o.url||"#",role:"menuitem",class:u(["p-speeddial-action",{"p-disabled":o.disabled}]),target:o.target,onClick:D=>s.onItemClick(D,o)},[o.icon?(c(),d("span",{key:0,class:u(["p-speeddial-action-icon",o.icon])},null,2)):v("",!0)],10,V)),[[a,{value:o.label,disabled:!i.tooltipOptions},i.tooltipOptions],[_]])],4))),128))],512)],6),i.mask?(c(),d("div",{key:0,class:u(s.maskClassName),style:h(i.maskStyle)},null,6)):v("",!0)],64)}var j=$(H,[["render",z]]);export{j as default};
