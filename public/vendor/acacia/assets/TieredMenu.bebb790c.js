import{Z as s,X as r,a5 as c,n as h,e as l,w as f,T as p,K as m,r as L,o as a,c as v,J as b,l as g}from"./main.9e765f7d.js";import{O as k}from"./overlayeventbus.esm.ef5cc0da.js";import C from"./TieredMenuSub.820ee956.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import"./ripple.esm.1fe20658.js";const x={name:"TieredMenu",inheritAttrs:!1,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0}},target:null,container:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,data(){return{visible:!1}},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&s.clear(this.container),this.container=null},methods:{itemClick(e){const n=e.item;n.command&&(n.command(e),e.originalEvent.preventDefault()),this.hide()},toggle(e){this.visible?this.hide():this.show(e)},show(e){this.visible=!0,this.target=e.currentTarget},hide(){this.visible=!1},onEnter(e){this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&s.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu)},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener()},onAfterLeave(e){this.autoZIndex&&s.clear(e)},alignOverlay(){r.absolutePosition(this.container,this.target),this.container.style.minWidth=r.getOuterWidth(this.target)+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.visible&&this.container&&!this.container.contains(e.target)&&!this.isTargetClicked(e)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new c(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked(e){return this.target&&(this.target===e.target||this.target.contains(e.target))},onLeafClick(){this.popup&&this.hide()},containerRef(e){this.container=e},onOverlayClick(e){k.emit("overlay-click",{originalEvent:e,target:this.target})}},computed:{containerClass(){return["p-tieredmenu p-component",{"p-tieredmenu-overlay":this.popup,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]}},components:{TieredMenuSub:C}};function z(e,n,t,T,o,i){const d=L("TieredMenuSub");return a(),h(m,{to:t.appendTo,disabled:!t.popup},[l(p,{name:"p-connected-overlay",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},{default:f(()=>[!t.popup||o.visible?(a(),v("div",b({key:0,ref:i.containerRef,class:i.containerClass},e.$attrs,{onClick:n[0]||(n[0]=(...u)=>i.onOverlayClick&&i.onOverlayClick(...u))}),[l(d,{model:t.model,root:!0,popup:t.popup,onLeafClick:i.onLeafClick,template:e.$slots.item,exact:t.exact},null,8,["model","popup","onLeafClick","template","exact"])],16)):g("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])],8,["to","disabled"])}var w=y(x,[["render",z]]);export{w as default};
