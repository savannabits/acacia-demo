import{a5 as u,i as s,F as p,t as E,x as c,r as C,O as K,o as a,an as y,v as k,w as S,M as I,k as d,z as _,s as m,Q as M}from"./vendor.05df324e.js";import{R as B}from"./ripple.esm.574b991d.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";const T={name:"TieredMenuSub",emits:["leaf-click","keydown-item"],props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},popup:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1},template:{type:Function,default:null},exact:{type:Boolean,default:!0}},documentClickListener:null,watch:{parentActive(e){e||(this.activeItem=null)}},data(){return{activeItem:null}},updated(){this.root&&this.activeItem&&this.bindDocumentClickListener()},beforeUnmount(){this.unbindDocumentClickListener()},methods:{onItemMouseEnter(e,n){if(this.disabled(n)){e.preventDefault();return}this.root?(this.activeItem||this.popup)&&(this.activeItem=n):this.activeItem=n},onItemClick(e,n,i){if(this.disabled(n)){e.preventDefault();return}n.command&&n.command({originalEvent:e,item:n}),n.items&&(this.activeItem&&n===this.activeItem?this.activeItem=null:this.activeItem=n),n.items||this.onLeafClick(),n.to&&i&&i(e)},onLeafClick(){this.activeItem=null,this.$emit("leaf-click")},onItemKeyDown(e,n){let i=e.currentTarget.parentElement;switch(e.which){case 40:var h=this.findNextItem(i);h&&h.children[0].focus(),e.preventDefault();break;case 38:var o=this.findPrevItem(i);o&&o.children[0].focus(),e.preventDefault();break;case 39:n.items&&(this.activeItem=n,setTimeout(()=>{i.children[1].children[0].children[0].focus()},50)),e.preventDefault();break}this.$emit("keydown-item",{originalEvent:e,element:i})},onChildItemKeyDown(e){e.originalEvent.which===37&&(this.activeItem=null,e.element.parentElement.previousElementSibling.focus())},findNextItem(e){let n=e.nextElementSibling;return n?u.hasClass(n,"p-disabled")||!u.hasClass(n,"p-menuitem")?this.findNextItem(n):n:null},findPrevItem(e){let n=e.previousElementSibling;return n?u.hasClass(n,"p-disabled")||!u.hasClass(n,"p-menuitem")?this.findPrevItem(n):n:null},getItemClass(e){return["p-menuitem",e.class,{"p-menuitem-active":this.activeItem===e}]},linkClass(e,n){return["p-menuitem-link",{"p-disabled":this.disabled(e),"router-link-active":n&&n.isActive,"router-link-active-exact":this.exact&&n&&n.isExactActive}]},bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=e=>{this.$el&&!this.$el.contains(e.target)&&(this.activeItem=null,this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))},unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label}},computed:{containerClass(){return{"p-submenu-list":!this.root}}},directives:{ripple:B}},N=["onMouseenter"],z=["href","onClick","onKeydown"],j={class:"p-menuitem-text"},F=["href","target","aria-haspopup","aria-expanded","onClick","onKeydown","tabindex"],R={class:"p-menuitem-text"},V={key:0,class:"p-submenu-icon pi pi-angle-right"};function H(e,n,i,h,o,l){const x=C("router-link"),w=C("TieredMenuSub",!0),v=K("ripple");return a(),s("ul",{ref:"element",class:c(l.containerClass),role:"'menubar' : 'menu'","aria-orientation":"horizontal"},[(a(!0),s(p,null,E(i.model,(t,b)=>(a(),s(p,{key:l.label(t)+b.toString()},[l.visible(t)&&!t.separator?(a(),s("li",{key:0,class:c(l.getItemClass(t)),style:y(t.style),onMouseenter:r=>l.onItemMouseEnter(r,t),role:"none"},[i.template?(a(),k(M(i.template),{key:1,item:t},null,8,["item"])):(a(),s(p,{key:0},[t.to&&!l.disabled(t)?(a(),k(x,{key:0,to:t.to,custom:""},{default:S(({navigate:r,href:D,isActive:L,isExactActive:g})=>[I((a(),s("a",{href:D,onClick:f=>l.onItemClick(f,t,r),class:c(l.linkClass(t,{isActive:L,isExactActive:g})),onKeydown:f=>l.onItemKeyDown(f,t),role:"menuitem"},[d("span",{class:c(["p-menuitem-icon",t.icon])},null,2),d("span",j,_(l.label(t)),1)],42,z)),[[v]])]),_:2},1032,["to"])):I((a(),s("a",{key:1,href:t.url,class:c(l.linkClass(t)),target:t.target,"aria-haspopup":t.items!=null,"aria-expanded":t===o.activeItem,onClick:r=>l.onItemClick(r,t),onKeydown:r=>l.onItemKeyDown(r,t),role:"menuitem",tabindex:l.disabled(t)?null:"0"},[d("span",{class:c(["p-menuitem-icon",t.icon])},null,2),d("span",R,_(l.label(t)),1),t.items?(a(),s("span",V)):m("",!0)],42,F)),[[v]])],64)),l.visible(t)&&t.items?(a(),k(w,{model:t.items,key:l.label(t)+"_sub_",template:i.template,onLeafClick:l.onLeafClick,onKeydownItem:l.onChildItemKeyDown,parentActive:t===o.activeItem,exact:i.exact},null,8,["model","template","onLeafClick","onKeydownItem","parentActive","exact"])):m("",!0)],46,N)):m("",!0),l.visible(t)&&t.separator?(a(),s("li",{class:c(["p-menu-separator",t.class]),style:y(t.style),key:"separator"+b.toString(),role:"separator"},null,6)):m("",!0)],64))),128))],2)}var q=A(T,[["render",H]]);export{q as default};
