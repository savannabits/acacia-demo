var T=Object.defineProperty;var u=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var y=(l,t,e)=>t in l?T(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,h=(l,t)=>{for(var e in t||(t={}))x.call(t,e)&&y(l,e,t[e]);if(u)for(var e of u(t))w.call(t,e)&&y(l,e,t[e]);return l};import{O as D,X as k,c as a,f as N,F as r,m as f,p as E,P as B,l as g,r as C,o as c,n as m}from"./main.9e765f7d.js";import M from"./BodyCell.b9df52a5.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import"./ripple.esm.1fe20658.js";const R={name:"TreeTableRow",emits:["node-click","node-toggle","checkbox-change","nodeClick","nodeToggle","checkboxChange"],props:{node:{type:null,default:null},parentNode:{type:null,default:null},columns:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},level:{type:Number,default:0},indentation:{type:Number,default:1}},nodeTouched:!1,methods:{columnProp(l,t){return D.getVNodeProp(l,t)},toggle(){this.$emit("node-toggle",this.node)},onClick(l){k.isClickable(l.target)||k.hasClass(l.target,"p-treetable-toggler")||k.hasClass(l.target.parentElement,"p-treetable-toggler")||(this.$emit("node-click",{originalEvent:l,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1)},onTouchEnd(){this.nodeTouched=!0},onKeyDown(l){if(l.target===this.$el){const t=this.$el;switch(l.which){case 40:{const e=t.nextElementSibling;e&&e.focus(),l.preventDefault();break}case 38:{const e=t.previousElementSibling;e&&e.focus(),l.preventDefault();break}case 37:case 39:{this.leaf||(this.$emit("node-toggle",this.node),l.preventDefault());break}case 13:{this.onClick(l),l.preventDefault();break}}}},toggleCheckbox(){let l=this.selectionKeys?h({},this.selectionKeys):{};const t=!this.checked;this.propagateDown(this.node,t,l),this.$emit("checkbox-change",{node:this.node,check:t,selectionKeys:l})},propagateDown(l,t,e){if(t?e[l.key]={checked:!0,partialChecked:!1}:delete e[l.key],l.children&&l.children.length)for(let d of l.children)this.propagateDown(d,t,e)},propagateUp(l){let t=l.check,e=h({},l.selectionKeys),d=0,i=!1;for(let n of this.node.children)e[n.key]&&e[n.key].checked?d++:e[n.key]&&e[n.key].partialChecked&&(i=!0);t&&d===this.node.children.length?e[this.node.key]={checked:!0,partialChecked:!1}:(t||delete e[this.node.key],i||d>0&&d!==this.node.children.length?e[this.node.key]={checked:!1,partialChecked:!0}:e[this.node.key]={checked:!1,partialChecked:!1}),this.$emit("checkbox-change",{node:l.node,check:l.check,selectionKeys:e})},onCheckboxChange(l){let t=l.check,e=h({},l.selectionKeys),d=0,i=!1;for(let n of this.node.children)e[n.key]&&e[n.key].checked?d++:e[n.key]&&e[n.key].partialChecked&&(i=!0);t&&d===this.node.children.length?e[this.node.key]={checked:!0,partialChecked:!1}:(t||delete e[this.node.key],i||d>0&&d!==this.node.children.length?e[this.node.key]={checked:!1,partialChecked:!0}:e[this.node.key]={checked:!1,partialChecked:!1}),this.$emit("checkbox-change",{node:l.node,check:l.check,selectionKeys:e})}},computed:{containerClass(){return[this.node.styleClass,{"p-highlight":this.selected}]},hasChildren(){return this.node.children&&this.node.children.length>0},expanded(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selected(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},childLevel(){return this.level+1},checked(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1}},components:{TTBodyCell:M}};function S(l,t,e,d,i,n){const K=C("TTBodyCell"),b=C("TreeTableRow",!0);return c(),a(r,null,[N("tr",{class:E(n.containerClass),onClick:t[1]||(t[1]=(...o)=>n.onClick&&n.onClick(...o)),onKeydown:t[2]||(t[2]=(...o)=>n.onKeyDown&&n.onKeyDown(...o)),onTouchend:t[3]||(t[3]=(...o)=>n.onTouchEnd&&n.onTouchEnd(...o)),style:B(e.node.style),tabindex:"0"},[(c(!0),a(r,null,f(e.columns,(o,s)=>(c(),a(r,{key:n.columnProp(o,"columnKey")||n.columnProp(o,"field")||s},[n.columnProp(o,"hidden")?g("",!0):(c(),m(K,{key:0,column:o,node:e.node,level:e.level,leaf:n.leaf,indentation:e.indentation,expanded:n.expanded,selectionMode:e.selectionMode,checked:n.checked,partialChecked:n.partialChecked,onNodeToggle:t[0]||(t[0]=p=>l.$emit("node-toggle",p)),onCheckboxToggle:n.toggleCheckbox},null,8,["column","node","level","leaf","indentation","expanded","selectionMode","checked","partialChecked","onCheckboxToggle"]))],64))),128))],38),n.expanded&&e.node.children&&e.node.children.length?(c(!0),a(r,{key:0},f(e.node.children,o=>(c(),m(b,{key:o.key,columns:e.columns,node:o,parentNode:e.node,level:e.level+1,expandedKeys:e.expandedKeys,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,indentation:e.indentation,onNodeToggle:t[4]||(t[4]=s=>l.$emit("node-toggle",s)),onNodeClick:t[5]||(t[5]=s=>l.$emit("node-click",s)),onCheckboxChange:n.onCheckboxChange},null,8,["columns","node","parentNode","level","expandedKeys","selectionMode","selectionKeys","indentation","onCheckboxChange"]))),128)):g("",!0)],64)}var O=P(R,[["render",S]]);export{O as default};
